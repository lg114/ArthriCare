(function(e,c){typeof exports=="object"&&typeof module<"u"?module.exports=c(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],c):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=c(e.Vue,e.dateFns))})(this,function(e,c){"use strict";function He(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}function en(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}function Nt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function vt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}function Tt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}function Pt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function At(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}const Vt=(t,a,r,n,u)=>{const m=c.parse(t,a.slice(0,t.length),new Date);return c.isValid(m)&&c.isDate(m)?n||u?m:c.set(m,{hours:+r.hours,minutes:+(r==null?void 0:r.minutes),seconds:+(r==null?void 0:r.seconds),milliseconds:0}):null},tn=(t,a,r,n,u)=>{const m=Array.isArray(r)?r[0]:r;if(typeof a=="string")return Vt(t,a,m,n,u);if(Array.isArray(a)){let h=null;for(const T of a)if(h=Vt(t,T,m,n,u),h)break;return h}return typeof a=="function"?a(t):null},S=t=>t?new Date(t):new Date,nn=(t,a,r)=>{if(a){const u=(t.getMonth()+1).toString().padStart(2,"0"),m=t.getDate().toString().padStart(2,"0"),h=t.getHours().toString().padStart(2,"0"),T=t.getMinutes().toString().padStart(2,"0"),_=r?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${u}-${m}T${h}:${T}:${_}.000Z`}const n=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(n).toISOString()},Me=t=>{let a=S(JSON.parse(JSON.stringify(t)));return a=c.setHours(a,0),a=c.setMinutes(a,0),a=c.setSeconds(a,0),a=c.setMilliseconds(a,0),a},Ce=(t,a,r,n)=>{let u=t?S(t):S();return(a||a===0)&&(u=c.setHours(u,+a)),(r||r===0)&&(u=c.setMinutes(u,+r)),(n||n===0)&&(u=c.setSeconds(u,+n)),c.setMilliseconds(u,0)},ge=(t,a)=>!t||!a?!1:c.isBefore(Me(t),Me(a)),oe=(t,a)=>!t||!a?!1:c.isEqual(Me(t),Me(a)),he=(t,a)=>!t||!a?!1:c.isAfter(Me(t),Me(a)),Et=(t,a,r)=>t&&t[0]&&t[1]?he(r,t[0])&&ge(r,t[1]):t&&t[0]&&a?he(r,t[0])&&ge(r,a)||ge(r,t[0])&&he(r,a):!1,xe=t=>{const a=c.set(new Date(t),{date:1});return Me(a)},et=(t,a,r)=>a&&(r||r===0)?Object.fromEntries(["hours","minutes","seconds"].map(n=>n===a?[n,r]:[n,isNaN(+t[n])?void 0:+t[n]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},je=t=>({hours:c.getHours(t),minutes:c.getMinutes(t),seconds:c.getSeconds(t)}),Le=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),Rt=()=>{const t=n=>{Le.menuFocused=n},a=n=>{Le.shiftKeyInMenu!==n&&(Le.shiftKeyInMenu=n)};return{control:e.computed(()=>({shiftKeyInMenu:Le.shiftKeyInMenu,menuFocused:Le.menuFocused})),setMenuFocused:t,setShiftKey:a}};function tt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _t={exports:{}};(function(t){function a(r){return r&&r.__esModule?r:{default:r}}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports})(_t);var an=_t.exports,nt={exports:{}};(function(t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=r;function r(n){if(n===null||n===!0||n===!1)return NaN;var u=Number(n);return isNaN(u)?u:u<0?Math.ceil(u):Math.floor(u)}t.exports=a.default})(nt,nt.exports);var rn=nt.exports;const ln=tt(rn);var at={exports:{}};(function(t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=r;function r(n){var u=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return u.setUTCFullYear(n.getFullYear()),n.getTime()-u.getTime()}t.exports=a.default})(at,at.exports);var on=at.exports;const Ot=tt(on);function sn(t,a){var r=fn(a);return r.formatToParts?cn(r,t):dn(r,t)}var un={year:0,month:1,day:2,hour:3,minute:4,second:5};function cn(t,a){try{for(var r=t.formatToParts(a),n=[],u=0;u<r.length;u++){var m=un[r[u].type];m>=0&&(n[m]=parseInt(r[u].value,10))}return n}catch(h){if(h instanceof RangeError)return[NaN];throw h}}function dn(t,a){var r=t.format(a).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var rt={};function fn(t){if(!rt[t]){var a=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),r=a==="06/25/2014, 00:00:00"||a==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";rt[t]=r?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return rt[t]}function lt(t,a,r,n,u,m,h){var T=new Date(0);return T.setUTCFullYear(t,a,r),T.setUTCHours(n,u,m,h),T}var Yt=36e5,mn=6e4,ot={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function st(t,a,r){var n,u;if(!t||(n=ot.timezoneZ.exec(t),n))return 0;var m;if(n=ot.timezoneHH.exec(t),n)return m=parseInt(n[1],10),It(m)?-(m*Yt):NaN;if(n=ot.timezoneHHMM.exec(t),n){m=parseInt(n[1],10);var h=parseInt(n[2],10);return It(m,h)?(u=Math.abs(m)*Yt+h*mn,m>0?-u:u):NaN}if(gn(t)){a=new Date(a||Date.now());var T=r?a:yn(a),_=it(T,t),N=r?_:pn(a,_,t);return-N}return NaN}function yn(t){return lt(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function it(t,a){var r=sn(t,a),n=lt(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime(),u=t.getTime(),m=u%1e3;return u-=m>=0?m:1e3+m,n-u}function pn(t,a,r){var n=t.getTime(),u=n-a,m=it(new Date(u),r);if(a===m)return a;u-=m-a;var h=it(new Date(u),r);return m===h?m:Math.max(m,h)}function It(t,a){return-23<=t&&t<=23&&(a==null||0<=a&&a<=59)}var xt={};function gn(t){if(xt[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),xt[t]=!0,!0}catch{return!1}}var hn=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const Lt=hn;var ut=36e5,zt=6e4,kn=2,ke={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Lt};function ct(t,a){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var r=a||{},n=r.additionalDigits==null?kn:ln(r.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var u=wn(t),m=bn(u.date,n),h=m.year,T=m.restDateString,_=Dn(T,h);if(isNaN(_))return new Date(NaN);if(_){var N=_.getTime(),Y=0,v;if(u.time&&(Y=Cn(u.time),isNaN(Y)))return new Date(NaN);if(u.timeZone||r.timeZone){if(v=st(u.timeZone||r.timeZone,new Date(N+Y)),isNaN(v))return new Date(NaN)}else v=Ot(new Date(N+Y)),v=Ot(new Date(N+Y+v));return new Date(N+Y+v)}else return new Date(NaN)}function wn(t){var a={},r=ke.dateTimePattern.exec(t),n;if(r?(a.date=r[1],n=r[3]):(r=ke.datePattern.exec(t),r?(a.date=r[1],n=r[2]):(a.date=null,n=t)),n){var u=ke.timeZone.exec(n);u?(a.time=n.replace(u[1],""),a.timeZone=u[1].trim()):a.time=n}return a}function bn(t,a){var r=ke.YYY[a],n=ke.YYYYY[a],u;if(u=ke.YYYY.exec(t)||n.exec(t),u){var m=u[1];return{year:parseInt(m,10),restDateString:t.slice(m.length)}}if(u=ke.YY.exec(t)||r.exec(t),u){var h=u[1];return{year:parseInt(h,10)*100,restDateString:t.slice(h.length)}}return{year:null}}function Dn(t,a){if(a===null)return null;var r,n,u,m;if(t.length===0)return n=new Date(0),n.setUTCFullYear(a),n;if(r=ke.MM.exec(t),r)return n=new Date(0),u=parseInt(r[1],10)-1,Wt(a,u)?(n.setUTCFullYear(a,u),n):new Date(NaN);if(r=ke.DDD.exec(t),r){n=new Date(0);var h=parseInt(r[1],10);return Sn(a,h)?(n.setUTCFullYear(a,0,h),n):new Date(NaN)}if(r=ke.MMDD.exec(t),r){n=new Date(0),u=parseInt(r[1],10)-1;var T=parseInt(r[2],10);return Wt(a,u,T)?(n.setUTCFullYear(a,u,T),n):new Date(NaN)}if(r=ke.Www.exec(t),r)return m=parseInt(r[1],10)-1,Ht(a,m)?Kt(a,m):new Date(NaN);if(r=ke.WwwD.exec(t),r){m=parseInt(r[1],10)-1;var _=parseInt(r[2],10)-1;return Ht(a,m,_)?Kt(a,m,_):new Date(NaN)}return null}function Cn(t){var a,r,n;if(a=ke.HH.exec(t),a)return r=parseFloat(a[1].replace(",",".")),dt(r)?r%24*ut:NaN;if(a=ke.HHMM.exec(t),a)return r=parseInt(a[1],10),n=parseFloat(a[2].replace(",",".")),dt(r,n)?r%24*ut+n*zt:NaN;if(a=ke.HHMMSS.exec(t),a){r=parseInt(a[1],10),n=parseInt(a[2],10);var u=parseFloat(a[3].replace(",","."));return dt(r,n,u)?r%24*ut+n*zt+u*1e3:NaN}return null}function Kt(t,a,r){a=a||0,r=r||0;var n=new Date(0);n.setUTCFullYear(t,0,4);var u=n.getUTCDay()||7,m=a*7+r+1-u;return n.setUTCDate(n.getUTCDate()+m),n}var Mn=[31,28,31,30,31,30,31,31,30,31,30,31],$n=[31,29,31,30,31,30,31,31,30,31,30,31];function Ut(t){return t%400===0||t%4===0&&t%100!==0}function Wt(t,a,r){if(a<0||a>11)return!1;if(r!=null){if(r<1)return!1;var n=Ut(t);if(n&&r>$n[a]||!n&&r>Mn[a])return!1}return!0}function Sn(t,a){if(a<1)return!1;var r=Ut(t);return!(r&&a>366||!r&&a>365)}function Ht(t,a,r){return!(a<0||a>52||r!=null&&(r<0||r>6))}function dt(t,a,r){return!(t!=null&&(t<0||t>=25)||a!=null&&(a<0||a>=60)||r!=null&&(r<0||r>=60))}var ft={exports:{}},mt={exports:{}};(function(t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=r;function r(n,u){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(n[m]=u[m]);return n}t.exports=a.default})(mt,mt.exports);var Bn=mt.exports;(function(t,a){var r=an.default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=u;var n=r(Bn);function u(m){return(0,n.default)({},m)}t.exports=a.default})(ft,ft.exports);var Nn=ft.exports;const vn=tt(Nn);function Tn(t,a,r){var n=ct(t,r),u=st(a,n,!0),m=new Date(n.getTime()-u),h=new Date(0);return h.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),h.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),h}function Pn(t,a,r){if(typeof t=="string"&&!t.match(Lt)){var n=vn(r);return n.timeZone=a,ct(t,n)}var u=ct(t,r),m=lt(u.getFullYear(),u.getMonth(),u.getDate(),u.getHours(),u.getMinutes(),u.getSeconds(),u.getMilliseconds()).getTime(),h=st(a,new Date(m));return new Date(m+h)}const An=(t,a=3)=>{const r=[];for(let n=0;n<t.length;n+=a)r.push([t[n],t[n+1],t[n+2]]);return r},Vn=(t,a)=>{const r=[1,2,3,4,5,6,7].map(m=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${m}T00:00:00+00:00`)).slice(0,2)),n=r.slice(0,a),u=r.slice(a+1,r.length);return[r[a]].concat(...u).concat(...n)},En=(t,a)=>{const r=[];for(let n=+t[0];n<=+t[1];n++)r.push({value:+n,text:`${n}`});return a?r.reverse():r},Rn=(t,a)=>{const r=new Intl.DateTimeFormat(t,{month:a,timeZone:"UTC"});return[1,2,3,4,5,6,7,8,9,10,11,12].map(u=>{const m=u<10?`0${u}`:u;return new Date(`2017-${m}-01T00:00:00+00:00`)}).map((u,m)=>{const h=r.format(u);return{text:h.charAt(0).toUpperCase()+h.substring(1),value:m}})},_n=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],ce=t=>{const a=e.unref(t);return a!=null&&a.$el?a==null?void 0:a.$el:a},On=t=>Object.assign({type:"dot"},t),jt=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,Ge={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},ye=t=>t,Gt=t=>t===0?t:!t||isNaN(+t)?null:+t,qt=t=>Object.assign({menuAppear:"",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},t),Yn=t=>Object.assign({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:a=>`Increment ${a}`,decrementValue:a=>`Decrement ${a}`,openTpOverlay:a=>`Open ${a} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",day:()=>""},t),In=t=>t===null?0:typeof t=="boolean"?t?2:0:+t>=2?+t:2,xn=(t,a,r)=>t||(typeof r=="string"?r:a),Ln=t=>typeof t=="boolean"?t?qt({}):!1:qt(t),zn=()=>({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "}),Kn=t=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},t),Un=t=>Object.assign({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0},t),De=t=>{const a=()=>{if(t.partialRange)return null;throw new Error(Ge.prop("partial-range"))},r=e.computed(()=>({ariaLabels:Yn(t.ariaLabels),textInputOptions:Object.assign(zn(),t.textInputOptions),multiCalendars:In(t.multiCalendars),previewFormat:xn(t.previewFormat,t.format,m()),filters:Kn(t.filters),transitions:Ln(t.transitions),startTime:f(),actionRow:Un(t.actionRow)})),n=d=>{if(t.range)return d();throw new Error(Ge.prop("range"))},u=()=>{const d=t.enableSeconds?":ss":"";return t.is24?`HH:mm${d}`:`hh:mm${d} aa`},m=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?u():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.enableTimePicker?`MM/dd/yyyy, ${u()}`:"MM/dd/yyyy",h=(d,o)=>{if(typeof t.format=="function")return t.format(d);const l=o||m(),k=t.formatLocale?{locale:t.formatLocale}:void 0;return Array.isArray(d)?`${c.format(d[0],l,k)}${t.modelAuto&&!d[1]?"":r.value.textInputOptions.rangeSeparator||"-"}${d[1]?c.format(d[1],l,k):""}`:c.format(d,l,k)},T=d=>t.timezone?Tn(d,t.timezone):d,_=d=>t.timezone?Pn(d,t.timezone):d,N=e.computed(()=>d=>{var o;return(o=t.hideNavigation)==null?void 0:o.includes(d)}),Y=d=>{const o=t.maxDate?he(T(d),T(S(t.maxDate))):!1,l=t.minDate?ge(T(d),T(S(t.minDate))):!1,k=R(d,t.disabledDates),B=r.value.filters.months.map(Z=>+Z).includes(c.getMonth(d)),q=t.disabledWeekDays.length?t.disabledWeekDays.some(Z=>+Z===c.getDay(d)):!1,p=t.allowedDates.length?!t.allowedDates.some(Z=>oe(T(S(Z)),T(d))):!1,s=c.getYear(d),O=s<+t.yearRange[0]||s>+t.yearRange[1];return!(o||l||k||B||O||q||p)},v=d=>{const o={hours:c.getHours(S()),minutes:c.getMinutes(S()),seconds:t.enableSeconds?c.getSeconds(S()):0};return Object.assign(o,d)},f=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[v(t.startTime[0]),v(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?v(t.startTime):null,b=d=>!Y(d),G=d=>Array.isArray(d)?c.isValid(d[0])&&(d[1]?c.isValid(d[1]):!0):d?c.isValid(d):!1,L=d=>d instanceof Date?d:c.parseISO(d),z=d=>{const o=c.startOfWeek(T(d),{weekStartsOn:+t.weekStart}),l=c.endOfWeek(T(d),{weekStartsOn:+t.weekStart});return[o,l]},R=(d,o)=>Array.isArray(o)?o.some(l=>oe(T(S(l)),T(d))):o(S(JSON.parse(JSON.stringify(d)))),I=(d,o,l)=>{let k=d?S(d):S();return(o||o===0)&&(k=c.setMonth(k,o)),l&&(k=c.setYear(k,l)),k},V=d=>c.set(S(),je(d)),U=d=>c.set(S(),{hours:+d.hours||0,minutes:+d.minutes||0,seconds:+d.seconds||0}),K=(d,o,l,k)=>{if(!d)return!0;if(k){const M=l==="max"?c.isBefore(d,o):c.isAfter(d,o),B={seconds:0,milliseconds:0};return M||c.isEqual(c.set(d,B),c.set(o,B))}return l==="max"?d.getTime()<=o.getTime():d.getTime()>=o.getTime()},F=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,te=d=>Array.isArray(d)?[d[0]?V(d[0]):null,d[1]?V(d[1]):null]:V(d),ne=d=>{const o=t.maxTime?U(t.maxTime):S(t.maxDate);return Array.isArray(d)?K(d[0],o,"max",!!t.maxDate)&&K(d[1],o,"max",!!t.maxDate):K(d,o,"max",!!t.maxDate)},ae=(d,o)=>{const l=t.minTime?U(t.minTime):S(t.minDate);return Array.isArray(d)?K(d[0],l,"min",!!t.minDate)&&K(d[1],l,"min",!!t.minDate)&&o:K(d,l,"min",!!t.minDate)&&o},re=d=>{let o=!0;if(!d||F())return!0;const l=!t.minDate&&!t.maxDate?te(d):d;if((t.maxTime||t.maxDate)&&(o=ne(ye(l))),(t.minTime||t.minDate)&&(o=ae(ye(l),o)),t.disabledTimes){const k=Array.isArray(d)?[je(d[0]),d[1]?je(d[1]):void 0]:je(d);o=!t.disabledTimes(k)}return o},P=(d,o)=>{const l=S(JSON.parse(JSON.stringify(d))),k=[];for(let M=0;M<7;M++){const B=c.addDays(l,M),q=c.getMonth(B)!==o;k.push({text:t.hideOffsetDates&&q?"":B.getDate(),value:B,current:!q,classData:{}})}return k},C=(d,o)=>{const l=[],k=S(T(new Date(o,d))),M=S(T(new Date(o,d+1,0))),B=t.weekStart,q=c.startOfWeek(k,{weekStartsOn:B}),p=s=>{const O=P(s,d);if(l.push({days:O}),!l[l.length-1].days.some(Z=>oe(Me(Z.value),Me(M)))){const Z=c.addDays(s,7);p(Z)}};if(p(q),t.sixWeeks&&l.length<6){const s=6-l.length,O=(k.getDay()+7-B)%7,se=6-(M.getDay()+7-B)%7,[$e,Ne]=(()=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[O==0,!0];case"fair":return[O==0||se>O,!0];default:case"append":return[!1,!1]}})();for(let J=1;J<=s;J++)if(Ne?!!(J%2)==$e:$e){const be=l[0].days[0],me=P(c.addDays(be.value,-7),c.getMonth(k));l.unshift({days:me})}else{const be=l[l.length-1],me=be.days[be.days.length-1],Te=P(c.addDays(me.value,1),c.getMonth(k));l.push({days:Te})}}return l},y=(d,o,l)=>[c.set(S(d),{date:1}),c.set(S(),{month:o,year:l,date:1})],A=(d,o)=>ge(...y(t.minDate,d,o))||oe(...y(t.minDate,d,o)),E=(d,o)=>he(...y(t.maxDate,d,o))||oe(...y(t.maxDate,d,o)),$=(d,o,l)=>{let k=!1;return t.maxDate&&l&&E(d,o)&&(k=!0),t.minDate&&!l&&A(d,o)&&(k=!0),k};return{checkPartialRangeValue:a,checkRangeEnabled:n,getZonedDate:T,getZonedToUtc:_,formatDate:h,getDefaultPattern:m,validateDate:Y,getDefaultStartTime:f,isDisabled:b,isValidDate:G,sanitizeDate:L,getWeekFromDate:z,matchDate:R,setDateMonthOrYear:I,isValidTime:re,getCalendarDays:C,validateMonthYearInRange:(d,o,l,k)=>{let M=!1;return k?t.minDate&&t.maxDate?M=$(d,o,l):(t.minDate&&A(d,o)||t.maxDate&&E(d,o))&&(M=!0):M=!0,M},validateMaxDate:E,validateMinDate:A,assignDefaultTime:v,defaults:r,hideNavigationButtons:N}},ie=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),yt=e.ref(null),qe=e.ref(!1),pt=e.ref(!1),gt=e.ref(!1),ht=e.ref(!1),we=e.ref(0),pe=e.ref(0),Ae=()=>{const t=e.computed(()=>qe.value?[...ie.selectionGrid,ie.actionRow].filter(R=>R.length):pt.value?[...ie.timePicker[0],...ie.timePicker[1],ht.value?[]:[yt.value],ie.actionRow].filter(R=>R.length):gt.value?[...ie.monthPicker,ie.actionRow]:[ie.monthYear,...ie.calendar,ie.time,ie.actionRow].filter(R=>R.length)),a=R=>{we.value=R?we.value+1:we.value-1;let I=null;t.value[pe.value]&&(I=t.value[pe.value][we.value]),I||(we.value=R?we.value-1:we.value+1)},r=R=>{if(pe.value===0&&!R||pe.value===t.value.length&&R)return;pe.value=R?pe.value+1:pe.value-1,t.value[pe.value]?t.value[pe.value]&&!t.value[pe.value][we.value]&&we.value!==0&&(we.value=t.value[pe.value].length-1):pe.value=R?pe.value-1:pe.value+1},n=R=>{let I=null;t.value[pe.value]&&(I=t.value[pe.value][we.value]),I?I.focus({preventScroll:!qe.value}):we.value=R?we.value-1:we.value+1},u=()=>{a(!0),n(!0)},m=()=>{a(!1),n(!1)},h=()=>{r(!1),n(!0)},T=()=>{r(!0),n(!0)},_=(R,I)=>{ie[I]=R},N=(R,I)=>{ie[I]=R},Y=()=>{we.value=0,pe.value=0};return{buildMatrix:_,buildMultiLevelMatrix:N,setTimePickerBackRef:R=>{yt.value=R},setSelectionGrid:R=>{qe.value=R,Y(),R||(ie.selectionGrid=[])},setTimePicker:(R,I=!1)=>{pt.value=R,ht.value=I,Y(),R||(ie.timePicker[0]=[],ie.timePicker[1]=[])},setTimePickerElements:(R,I=0)=>{ie.timePicker[I]=R},arrowRight:u,arrowLeft:m,arrowUp:h,arrowDown:T,clearArrowNav:()=>{ie.monthYear=[],ie.calendar=[],ie.time=[],ie.actionRow=[],ie.selectionGrid=[],ie.timePicker[0]=[],ie.timePicker[1]=[],qe.value=!1,pt.value=!1,ht.value=!1,gt.value=!1,Y(),yt.value=null},setMonthPicker:R=>{gt.value=R,Y()},refSets:ie}},Zt=t=>Array.isArray(t),_e=t=>Array.isArray(t),Xt=t=>Array.isArray(t)&&t.length===2,Wn=(t,a,r,n,u)=>{const{getDefaultStartTime:m,isDisabled:h,sanitizeDate:T,getWeekFromDate:_,setDateMonthOrYear:N,validateMonthYearInRange:Y,defaults:v}=De(t),f=e.computed({get:()=>t.internalModelValue,set:i=>{!t.readonly&&!t.disabled&&a("update:internal-model-value",i)}}),b=e.ref([]);e.watch(f,(i,D)=>{t.range?te():c.isEqual(i,D)||te()});const G=e.toRef(t,"multiCalendars");e.watch(G,()=>{ee(0)});const L=e.ref([{month:c.getMonth(S()),year:c.getYear(S())}]),z=e.reactive({hours:t.range?[c.getHours(S()),c.getHours(S())]:c.getHours(S()),minutes:t.range?[c.getMinutes(S()),c.getMinutes(S())]:c.getMinutes(S()),seconds:t.range?[0,0]:0}),R=e.computed(()=>i=>L.value[i]?L.value[i].month:0),I=e.computed(()=>i=>L.value[i]?L.value[i].year:0),V=e.computed(()=>t.flow&&t.flow.length&&!t.partialFlow?u.value===t.flow.length:!0),U=(i,D,W)=>{var Q,de;L.value[i]||(L.value[i]={month:0,year:0}),L.value[i].month=D===null?(Q=L.value[i])==null?void 0:Q.month:D,L.value[i].year=W===null?(de=L.value[i])==null?void 0:de.year:W},K=(i,D)=>{z[i]=D},F=()=>{t.startDate&&(U(0,c.getMonth(S(t.startDate)),c.getYear(S(t.startDate))),v.value.multiCalendars&&ee(0))};e.onMounted(()=>{f.value||(F(),v.value.startTime&&g()),te(!0),t.focusStartDate&&t.startDate&&F()});const te=(i=!1)=>{if(f.value)return Array.isArray(f.value)?(b.value=f.value,C(i)):ae(f.value,i);if(t.timePicker)return y();if(t.monthPicker&&!t.range)return A();if(t.yearPicker&&!t.range)return E();if(v.value.multiCalendars&&i&&!t.startDate)return ne(S(),i)},ne=(i,D=!1)=>{if((!v.value.multiCalendars||!t.multiStatic||D)&&U(0,c.getMonth(i),c.getYear(i)),v.value.multiCalendars)for(let W=1;W<v.value.multiCalendars;W++){const Q=c.set(S(),{month:R.value(W-1),year:I.value(W-1)}),de=c.add(Q,{months:1});L.value[W]={month:c.getMonth(de),year:c.getYear(de)}}},ae=(i,D)=>{ne(i),K("hours",c.getHours(i)),K("minutes",c.getMinutes(i)),K("seconds",c.getSeconds(i)),v.value.multiCalendars&&D&&o()},re=(i,D)=>{i[1]&&t.showLastInRange?ne(i[1],D):ne(i[0],D);const W=(Q,de)=>[Q(i[0]),i[1]?Q(i[1]):z[de][1]];K("hours",W(c.getHours,"hours")),K("minutes",W(c.getMinutes,"minutes")),K("seconds",W(c.getSeconds,"seconds"))},P=(i,D)=>{if((t.range||t.weekPicker)&&!t.multiDates)return re(i,D);if(t.multiDates){const W=i[i.length-1];return ae(W,D)}},C=i=>{const D=f.value;P(D,i),v.value.multiCalendars&&t.multiCalendarsSolo&&o()},y=()=>{if(g(),!t.range)f.value=Ce(S(),z.hours,z.minutes,$());else{const i=z.hours,D=z.minutes;f.value=[Ce(S(),i[0],D[0],$()),Ce(S(),i[1],D[1],$(!1))]}},A=()=>{t.multiDates?f.value=[N(S(),R.value(0),I.value(0))]:f.value=N(S(),R.value(0),I.value(0))},E=()=>{f.value=S()},$=(i=!0)=>t.enableSeconds?Array.isArray(z.seconds)?i?z.seconds[0]:z.seconds[1]:z.seconds:0,g=()=>{const i=m();if(i){const D=Array.isArray(i),W=D?[+i[0].hours,+i[1].hours]:+i.hours,Q=D?[+i[0].minutes,+i[1].minutes]:+i.minutes,de=D?[+i[0].seconds,+i[1].seconds]:+i.seconds;K("hours",W),K("minutes",Q),t.enableSeconds&&K("seconds",de)}},d=()=>Array.isArray(f.value)&&f.value.length?f.value[f.value.length-1]:null,o=()=>{if(Array.isArray(f.value)&&f.value.length===2){const i=S(S(f.value[1]?f.value[1]:c.addMonths(f.value[0],1))),[D,W]=[c.getMonth(f.value[0]),c.getYear(f.value[0])],[Q,de]=[c.getMonth(f.value[1]),c.getYear(f.value[1])];(D!==Q||D===Q&&W!==de)&&t.multiCalendarsSolo&&U(1,c.getMonth(i),c.getYear(i))}else f.value&&!Array.isArray(f.value)&&U(0,c.getMonth(f.value),c.getYear(f.value))},l=i=>{const D=c.addMonths(i,1);return{month:c.getMonth(D),year:c.getYear(D)}},k=i=>{const D=c.getMonth(S(i)),W=c.getYear(S(i));if(U(0,D,W),v.value.multiCalendars>0)for(let Q=1;Q<v.value.multiCalendars;Q++){const de=l(c.set(S(i),{year:R.value(Q-1),month:I.value(Q-1)}));U(Q,de.month,de.year)}},M=i=>{if(f.value&&Array.isArray(f.value))if(f.value.some(D=>oe(i,D))){const D=f.value.filter(W=>!oe(W,i));f.value=D.length?D:null}else(t.multiDatesLimit&&+t.multiDatesLimit>f.value.length||!t.multiDatesLimit)&&f.value.push(i);else f.value=[i]},B=(i,D)=>{const W=he(i,D)?D:i,Q=he(D,i)?D:i;return c.eachDayOfInterval({start:W,end:Q})},q=(i,D=0)=>{if(Array.isArray(f.value)&&f.value[D]){const W=c.differenceInCalendarDays(i,f.value[D]),Q=B(f.value[D],i),de=Q.length===1?0:Q.filter(Re=>h(Re)).length,Se=Math.abs(W)-de;if(t.minRange&&t.maxRange)return Se>=+t.minRange&&Se<=+t.maxRange;if(t.minRange)return Se>=+t.minRange;if(t.maxRange)return Se<=+t.maxRange}return!0},p=i=>Array.isArray(f.value)&&f.value.length===2?t.fixedStart&&(he(i,f.value[0])||oe(i,f.value[0]))?[f.value[0],i]:t.fixedEnd&&(ge(i,f.value[1])||oe(i,f.value[1]))?[i,f.value[1]]:(a("invalid-fixed-range",i),f.value):[],s=()=>{t.autoApply&&V.value&&a("auto-apply",t.partialFlow)},O=()=>{t.autoApply&&a("select-date")},Z=i=>!c.eachDayOfInterval({start:i[0],end:i[1]}).some(W=>h(W)),se=i=>(f.value=_(S(i.value)),s()),$e=i=>{const D=Ce(S(i.value),z.hours,z.minutes,$());t.multiDates?M(D):f.value=D,r(),s()},Ne=()=>{b.value=f.value?f.value.slice():[],b.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(b.value=[])},J=(i,D)=>{const W=[S(i.value),c.addDays(S(i.value),+t.autoRange)];Z(W)&&(D&&k(i.value),b.value=W)},ve=i=>{be(i.value)||!q(i.value,t.fixedStart?0:1)||(b.value=p(S(i.value)))},be=i=>t.noDisabledRange?B(b.value[0],i).some(W=>h(W)):!1,me=(i,D)=>{if(Ne(),t.autoRange)return J(i,D);if(t.fixedStart||t.fixedEnd)return ve(i);b.value[0]?q(S(i.value))&&!be(i.value)&&(ge(S(i.value),S(b.value[0]))?(b.value.unshift(S(i.value)),a("range-end",b.value[0])):(b.value[1]=S(i.value),a("range-end",b.value[1]))):(b.value[0]=S(i.value),a("range-start",b.value[0]))},Te=i=>{b.value[i]=Ce(b.value[i],z.hours[i],z.minutes[i],$(i!==1))},Ke=()=>{b.value.length&&(b.value[0]&&!b.value[1]?Te(0):(Te(0),Te(1),r()),f.value=b.value.slice(),b.value[0]&&b.value[1]&&t.autoApply&&a("auto-apply"),b.value[0]&&!b.value[1]&&t.modelAuto&&t.autoApply&&a("auto-apply"))},Ue=(i,D=!1)=>{if(!(h(i.value)||!i.current&&t.hideOffsetDates)){if(t.weekPicker)return se(i);if(!t.range)return $e(i);_e(z.hours)&&_e(z.minutes)&&!t.multiDates&&(me(i,D),Ke())}},j=i=>{const D=i[0];return t.weekNumbers==="local"?c.getWeek(D.value,{weekStartsOn:+t.weekStart}):t.weekNumbers==="iso"?c.getISOWeek(D.value):typeof t.weekNumbers=="function"?t.weekNumbers(D.value):""},ee=i=>{for(let D=i-1;D>=0;D--){const W=c.subMonths(c.set(S(),{month:R.value(D+1),year:I.value(D+1)}),1);U(D,c.getMonth(W),c.getYear(W))}for(let D=i+1;D<=v.value.multiCalendars-1;D++){const W=c.addMonths(c.set(S(),{month:R.value(D-1),year:I.value(D-1)}),1);U(D,c.getMonth(W),c.getYear(W))}},X=i=>N(S(),R.value(i),I.value(i)),Ie=i=>Ce(i,z.hours,z.minutes,$()),Ee=i=>{M(X(i))},Dt=(i,D)=>{const W=t.monthPicker?R.value(i)!==D.month||!D.fromNav:I.value(i)!==D.year||!D.fromNav;if(U(i,D.month,D.year),v.value.multiCalendars&&!t.multiCalendarsSolo&&ee(i),t.monthPicker||t.yearPicker)if(t.multiDates)W&&Ee(i);else if(t.range){if(W&&q(X(i))){let Q=f.value?f.value.slice():[];Q.length===2&&Q[1]!==null&&(Q=[]),Q.length?ge(X(i),Q[0])?Q.unshift(X(i)):Q[1]=X(i):Q=[X(i)],f.value=Q}}else f.value=X(i);a("update-month-year",{instance:i,month:D.month,year:D.year}),n(t.multiCalendarsSolo?i:void 0)},Ct=async(i=!1)=>{if(t.autoApply&&(t.monthPicker||t.yearPicker)){await e.nextTick();const D=t.monthPicker?i:!1;t.range?a("auto-apply",D||!f.value||f.value.length===1):a("auto-apply",D)}r()},Je=(i,D)=>{const W=c.set(S(),{month:R.value(D),year:I.value(D)}),Q=i<0?c.addMonths(W,1):c.subMonths(W,1);Y(c.getMonth(Q),c.getYear(Q),i<0,t.preventMinMaxNavigation)&&(U(D,c.getMonth(Q),c.getYear(Q)),v.value.multiCalendars&&!t.multiCalendarsSolo&&ee(D),a("update-month-year",{instance:D,month:c.getMonth(Q),year:c.getYear(Q)}),n())},We=i=>{Zt(i)&&Zt(f.value)&&_e(z.hours)&&_e(z.minutes)?(i[0]&&f.value[0]&&(f.value[0]=Ce(i[0],z.hours[0],z.minutes[0],$())),i[1]&&f.value[1]&&(f.value[1]=Ce(i[1],z.hours[1],z.minutes[1],$(!1)))):t.multiDates&&Array.isArray(f.value)?f.value[f.value.length-1]=Ie(i):!t.range&&!Xt(i)&&(f.value=Ie(i)),a("time-update")},Mt=(i,D=!0,W=!1)=>{const Q=D?i:z.hours,de=!D&&!W?i:z.minutes,Se=W?i:z.seconds;if(t.range&&Xt(f.value)&&_e(Q)&&_e(de)&&_e(Se)&&!t.disableTimeRangeValidation){const Re=x=>Ce(f.value[x],Q[x],de[x],Se[x]),w=x=>c.setMilliseconds(f.value[x],0);if(oe(f.value[0],f.value[1])&&(c.isAfter(Re(0),w(1))||c.isBefore(Re(1),w(0))))return}if(K("hours",Q),K("minutes",de),K("seconds",Se),f.value)if(t.multiDates){const Re=d();Re&&We(Re)}else We(f.value);else t.timePicker&&We(t.range?[S(),S()]:S());r()},$t=(i,D)=>{t.monthChangeOnScroll&&Je(t.monthChangeOnScroll!=="inverse"?-i.deltaY:i.deltaY,D)},St=(i,D,W=!1)=>{t.monthChangeOnArrows&&t.vertical===W&&Qe(i,D)},Qe=(i,D)=>{Je(i==="right"?-1:1,D)};return{time:z,month:R,year:I,modelValue:f,calendars:L,monthYearSelect:Ct,isDisabled:h,updateTime:Mt,getWeekNum:j,selectDate:Ue,updateMonthYear:Dt,handleScroll:$t,getMarker:i=>t.markers.find(D=>oe(T(i.value),T(D.date))),handleArrow:St,handleSwipe:Qe,selectCurrentDate:()=>{t.range?f.value&&Array.isArray(f.value)&&f.value[0]?f.value=ge(S(),f.value[0])?[S(),f.value[0]]:[f.value[0],S()]:f.value=[S()]:f.value=S(),O()},presetDateRange:(i,D)=>{D||i.length&&i.length<=2&&t.range&&(f.value=i.map(W=>S(W)),O(),t.multiCalendars&&e.nextTick().then(()=>te(!0)))}}},Hn=(t,a,r)=>{const n=e.ref(),{getZonedToUtc:u,getZonedDate:m,formatDate:h,getDefaultPattern:T,checkRangeEnabled:_,checkPartialRangeValue:N,isValidDate:Y,setDateMonthOrYear:v,defaults:f}=De(a),b=e.ref(""),G=e.toRef(a,"format");e.watch(n,()=>{t("internal-model-change",n.value)}),e.watch(G,()=>{d()});const L=s=>{const O=s||S();return a.modelType?l(O):{hours:c.getHours(O),minutes:c.getMinutes(O),seconds:a.enableSeconds?c.getSeconds(O):0}},z=s=>a.modelType?l(s):{month:c.getMonth(s),year:c.getYear(s)},R=s=>Array.isArray(s)?_(()=>[c.setYear(S(),s[0]),s[1]?c.setYear(S(),s[1]):N()]):c.setYear(S(),+s),I=(s,O)=>(typeof s=="string"||typeof s=="number")&&a.modelType?o(s):O,V=s=>Array.isArray(s)?[I(s[0],Ce(null,+s[0].hours,+s[0].minutes,s[0].seconds)),I(s[1],Ce(null,+s[1].hours,+s[1].minutes,s[1].seconds))]:I(s,Ce(null,s.hours,s.minutes,s.seconds)),U=s=>Array.isArray(s)?a.multiDates?s.map(O=>I(O,v(null,+O.month,+O.year))):_(()=>[I(s[0],v(null,+s[0].month,+s[0].year)),I(s[1],s[1]?v(null,+s[1].month,+s[1].year):N())]):I(s,v(null,+s.month,+s.year)),K=s=>{if(Array.isArray(s))return s.map(O=>o(O));throw new Error(Ge.dateArr("multi-dates"))},F=s=>{if(Array.isArray(s))return[S(s[0]),S(s[1])];throw new Error(Ge.dateArr("week-picker"))},te=s=>a.modelAuto?Array.isArray(s)?[o(s[0]),o(s[1])]:a.autoApply?[o(s)]:[o(s),null]:Array.isArray(s)?_(()=>[o(s[0]),s[1]?o(s[1]):N()]):o(s),ne=()=>{Array.isArray(n.value)&&a.range&&n.value.length===1&&n.value.push(N())},ae=()=>{const s=n.value;return[l(s[0]),s[1]?l(s[1]):N()]},re=()=>n.value[1]?ae():l(ye(n.value[0])),P=()=>(n.value||[]).map(s=>l(s)),C=()=>(ne(),a.modelAuto?re():a.multiDates?P():Array.isArray(n.value)?_(()=>ae()):l(ye(n.value))),y=s=>s?a.timePicker?V(ye(s)):a.monthPicker?U(ye(s)):a.yearPicker?R(ye(s)):a.multiDates?K(ye(s)):a.weekPicker?F(ye(s)):te(ye(s)):null,A=s=>{const O=y(s);Y(ye(O))?(n.value=ye(O),d()):(n.value=null,b.value="")},E=()=>{var O;const s=Z=>{var se;return c.format(Z,(se=f.value.textInputOptions)==null?void 0:se.format)};return`${s(n.value[0])} ${(O=f.value.textInputOptions)==null?void 0:O.rangeSeparator} ${n.value[1]?s(n.value[1]):""}`},$=()=>{var s;return r.value&&n.value?Array.isArray(n.value)?E():c.format(n.value,(s=f.value.textInputOptions)==null?void 0:s.format):h(n.value)},g=()=>{var s;return n.value?a.multiDates?n.value.map(O=>h(O)).join("; "):a.textInput&&typeof((s=f.value.textInputOptions)==null?void 0:s.format)=="string"?$():h(n.value):""},d=()=>{!a.format||typeof a.format=="string"?b.value=g():b.value=a.format(n.value)},o=s=>{if(a.utc){const O=new Date(s);return a.utc==="preserve"?new Date(O.getTime()+O.getTimezoneOffset()*6e4):O}return a.modelType?a.modelType==="date"||a.modelType==="timestamp"?m(new Date(s)):a.modelType==="format"&&(typeof a.format=="string"||!a.format)?c.parse(s,T(),new Date):m(c.parse(s,a.modelType,new Date)):m(new Date(s))},l=s=>s?a.utc?nn(s,a.utc==="preserve",a.enableSeconds):a.modelType?a.modelType==="timestamp"?+u(s):a.modelType==="format"&&(typeof a.format=="string"||!a.format)?h(u(s)):h(u(s),a.modelType):u(s):"",k=s=>{t("update:model-value",s)},M=s=>Array.isArray(n.value)?a.multiDates?n.value.map(O=>s(O)):[s(n.value[0]),n.value[1]?s(n.value[1]):N()]:s(ye(n.value)),B=s=>k(ye(M(s)));return{inputValue:b,internalModelValue:n,checkBeforeEmit:()=>n.value?a.range?a.partialRange?n.value.length>=1:n.value.length===2:!!n.value:!1,parseExternalModelValue:A,formatInputValue:d,emitModelValue:()=>(d(),a.monthPicker?B(z):a.timePicker?B(L):a.yearPicker?B(c.getYear):a.weekPicker?k(n.value):k(C()))}},jn=(t,a)=>{const{validateMonthYearInRange:r,validateMaxDate:n,validateMinDate:u,defaults:m}=De(t),h=(v,f)=>{let b=v;return m.value.filters.months.includes(c.getMonth(b))?(b=f?c.addMonths(v,1):c.subMonths(v,1),h(b,f)):b},T=(v,f)=>{let b=v;return m.value.filters.years.includes(c.getYear(b))?(b=f?c.addYears(v,1):c.subYears(v,1),T(b,f)):b},_=v=>{const f=c.set(new Date,{month:t.month,year:t.year});let b=v?c.addMonths(f,1):c.subMonths(f,1);t.disableYearSelect&&(b=c.setYear(b,t.year));let G=c.getMonth(b),L=c.getYear(b);m.value.filters.months.includes(G)&&(b=h(b,v),G=c.getMonth(b),L=c.getYear(b)),m.value.filters.years.includes(L)&&(b=T(b,v),L=c.getYear(b)),r(G,L,v,t.preventMinMaxNavigation)&&N(G,L)},N=(v,f)=>{a("update-month-year",{month:v,year:f})},Y=e.computed(()=>v=>{if(!t.preventMinMaxNavigation||v&&!t.maxDate||!v&&!t.minDate)return!1;const f=c.set(new Date,{month:t.month,year:t.year}),b=v?c.addMonths(f,1):c.subMonths(f,1),G=[c.getMonth(b),c.getYear(b)];return v?!n(...G):!u(...G)});return{handleMonthYearChange:_,isDisabled:Y,updateMonthYear:N}};var Ze=(t=>(t.center="center",t.left="left",t.right="right",t))(Ze||{});const Gn=(t,a,r,n)=>{const u=e.ref({top:"0",left:"0",transform:"none",opacity:"0"}),m=e.ref(!1),h=e.toRef(n,"teleportCenter"),T=e.computed(()=>m.value?"-100%":"0"),_=()=>{N(),u.value.opacity="0"};e.watch(h,()=>{I()}),e.onMounted(()=>{N()});const N=()=>{const C=ce(a);if(C){const{top:y,left:A,width:E,height:$}=G(C);u.value.top=`${y+$/2}px`,b(A,E,50)}},Y=C=>{if(n.teleport){const y=C.getBoundingClientRect();return{left:y.left+window.scrollX,top:y.top+window.scrollY}}return{top:0,left:0}},v=(C,y)=>{u.value.left=`${C+y}px`,u.value.transform=`translate(-100%, ${T.value})`},f=C=>{u.value.left=`${C}px`,u.value.transform=`translate(0, ${T.value})`},b=(C,y,A)=>{n.position===Ze.left&&f(C),n.position===Ze.right&&v(C,y),n.position===Ze.center&&(u.value.left=`${C+y/2}px`,u.value.transform=A?`translate(-50%, -${A}%)`:`translate(-50%, ${T.value})`)},G=C=>{const{width:y,height:A}=C.getBoundingClientRect(),{top:E,left:$}=n.altPosition?n.altPosition(C):Y(C);return{top:+E,left:+$,width:y,height:A}},L=()=>{const C=ce(a);if(C){const{top:y,left:A,width:E,height:$}=G(C),g=te();u.value.top=`${y+$/2}px`,b(A,E,g==="top"?100:0)}},z=()=>{u.value.left="50%",u.value.top="50%",u.value.transform="translate(-50%, -50%)",u.value.position="fixed",delete u.value.opacity},R=()=>{const C=ce(a),{top:y,left:A,transform:E}=n.altPosition(C);u.value={top:`${y}px`,left:`${A}px`,transform:E||""}},I=(C=!0)=>{if(!n.inline)return h.value?z():n.altPosition!==null?R():(C&&r("recalculate-position"),ae())},V=({inputEl:C,menuEl:y,left:A,width:E})=>{window.screen.width>768&&b(A,E),F(C,y)},U=(C,y)=>{const{top:A,left:E,height:$,width:g}=G(C);u.value.top=`${$+A+ +n.offset}px`,m.value=!1,V({inputEl:C,menuEl:y,left:E,width:g})},K=(C,y)=>{const{top:A,left:E,width:$}=G(C);u.value.top=`${A-+n.offset}px`,m.value=!0,V({inputEl:C,menuEl:y,left:E,width:$})},F=(C,y)=>{if(n.autoPosition){const{left:A,width:E}=G(C),{left:$,right:g}=y.getBoundingClientRect();return $<=0||$<=A?f(A):g>=document.documentElement.clientWidth?v(A,E):b(A,E)}},te=()=>{const C=ce(t),y=ce(a);if(C&&y){const{height:A}=C.getBoundingClientRect(),{top:E,height:$}=y.getBoundingClientRect(),d=window.innerHeight-E-$,o=E;return A<=d?"bottom":A>d&&A<=o?"top":d>=o?"bottom":"top"}return"bottom"},ne=(C,y)=>te()==="bottom"?U(C,y):K(C,y),ae=()=>{const C=ce(a),y=ce(t);if(C&&y)return n.autoPosition?ne(C,y):U(C,y)},re=function(C){if(C){const y=C.scrollHeight>C.clientHeight,E=window.getComputedStyle(C).overflowY.indexOf("hidden")!==-1;return y&&!E}return!0},P=function(C){return!C||C===document.body||C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:re(C)?C:P(C.parentNode)};return{openOnTop:m,menuStyle:u,resetPosition:_,setMenuPosition:I,setInitialPosition:L,getScrollableParent:P}},Ye=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar"]},{name:"arrow-down",use:["time","calendar"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay-value",use:["calendar","month-year"]},{name:"year-overlay-value",use:["calendar","month-year"]},{name:"year-overlay",use:["month-year"]},{name:"month-overlay",use:["month-year"]},{name:"month-overlay-header",use:["month-year"]},{name:"year-overlay-header",use:["month-year"]},{name:"hours-overlay-value",use:["calendar","time"]},{name:"minutes-overlay-value",use:["calendar","time"]},{name:"seconds-overlay-value",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year"]},{name:"time-picker",use:["menu"]},{name:"action-row",use:["action"]}],qn=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],Zn={all:()=>Ye,monthYear:()=>Ye.filter(t=>t.use.includes("month-year")),input:()=>qn,timePicker:()=>Ye.filter(t=>t.use.includes("time")),action:()=>Ye.filter(t=>t.use.includes("action")),calendar:()=>Ye.filter(t=>t.use.includes("calendar")),menu:()=>Ye.filter(t=>t.use.includes("menu"))},Oe=(t,a,r)=>{const n=[];return Zn[a]().forEach(u=>{t[u.name]&&n.push(u.name)}),r&&r.length&&r.forEach(u=>{u.slot&&n.push(u.slot)}),n},Xe=t=>({transitionName:e.computed(()=>r=>t&&typeof t!="boolean"?r?t.open:t.close:""),showTransition:!!t}),Ve={multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:()=>[]},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetRanges:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},multiStatic:{type:Boolean,default:!0},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function],default:null},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},inlineWithInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:()=>null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},onClickOutside:{type:Function,default:null},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},allowPreventDefault:{type:Boolean,default:!1},closeOnClearValue:{type:Boolean,default:!0},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:Function,default:void 0},showLastInRange:{type:Boolean,default:!0}},Xn={key:1,class:"dp__input_wrap"},Jn=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","onKeydown"],Qn={key:0,class:"dp__input_icon"},Fn={key:2,class:"dp__clear_icon"},ea=e.defineComponent({__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Ve},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:a,emit:r}){const n=t,{getDefaultPattern:u,isValidDate:m,defaults:h,getDefaultStartTime:T,assignDefaultTime:_}=De(n),N=e.ref(),Y=e.ref(null),v=e.ref(!1),f=e.ref(!1),b=e.computed(()=>({dp__pointer:!n.disabled&&!n.readonly&&!n.textInput,dp__disabled:n.disabled,dp__input_readonly:!n.textInput,dp__input:!0,dp__input_icon_pad:!n.hideInputIcon,dp__input_valid:n.state,dp__input_invalid:n.state===!1,dp__input_focus:v.value||n.isMenuOpen,dp__input_reg:!n.textInput,[n.inputClassName]:!!n.inputClassName})),G=()=>{r("set-input-date",null),n.autoApply&&(r("set-empty-date"),N.value=null)},L=y=>{var E;const A=T();return tn(y,((E=h.value.textInputOptions)==null?void 0:E.format)||u(),A||_({}),n.inputValue,f.value)},z=y=>{const{rangeSeparator:A}=h.value.textInputOptions,[E,$]=y.split(`${A}`);if(E){const g=L(E.trim()),d=$?L($.trim()):null,o=g&&d?[g,d]:[g];N.value=g?o:null}},R=()=>{f.value=!0},I=y=>{if(n.range)z(y);else if(n.multiDates){const A=y.split(";");N.value=A.map(E=>L(E.trim())).filter(E=>E)}else N.value=L(y)},V=y=>{var E;const{value:A}=y.target;A!==""?((E=h.value.textInputOptions)!=null&&E.openMenu&&!n.isMenuOpen&&r("open"),I(A),r("set-input-date",N.value)):G(),f.value=!1,r("update:input-value",A)},U=y=>{var A,E;n.textInput?(I(y.target.value),(A=h.value.textInputOptions)!=null&&A.enterSubmit&&m(N.value)&&n.inputValue!==""?(r("set-input-date",N.value,!0),N.value=null):(E=h.value.textInputOptions)!=null&&E.enterSubmit&&n.inputValue===""&&(N.value=null,r("clear"))):te(y)},K=()=>{var y,A;(y=h.value.textInputOptions)!=null&&y.tabSubmit&&m(N.value)&&n.inputValue!==""?(r("set-input-date",N.value,!0),N.value=null):(A=h.value.textInputOptions)!=null&&A.tabSubmit&&n.inputValue===""&&(N.value=null,r("clear"))},F=()=>{v.value=!0,r("focus")},te=y=>{var A;y.preventDefault(),y.stopImmediatePropagation(),y.stopPropagation(),n.textInput&&((A=h.value.textInputOptions)!=null&&A.openMenu)&&!n.inlineWithInput?(r("toggle"),h.value.textInputOptions.enterSubmit&&r("select-date")):n.textInput||r("toggle")},ne=()=>{r("real-blur"),v.value=!1,n.isMenuOpen||r("blur"),n.autoApply&&n.textInput&&N.value&&!n.isMenuOpen&&(r("set-input-date",N.value),r("select-date"),N.value=null)},ae=()=>{r("clear")},re=y=>{if(!n.textInput){if(y.code==="Tab")return;y.preventDefault()}};return a({focusInput:()=>{var y;(y=Y.value)==null||y.focus({preventScroll:!0})},setParsedDate:y=>{N.value=y}}),(y,A)=>{var E;return e.openBlock(),e.createElementBlock("div",{onClick:te},[y.$slots.trigger&&!y.$slots["dp-input"]&&!y.inline?e.renderSlot(y.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!y.$slots.trigger&&(!y.inline||y.inlineWithInput)?(e.openBlock(),e.createElementBlock("div",Xn,[y.$slots["dp-input"]&&!y.$slots.trigger&&!y.inline?e.renderSlot(y.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:V,onEnter:U,onTab:K,onClear:ae,onBlur:ne,onKeypress:re,onPaste:R}):e.createCommentVNode("",!0),y.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,ref_key:"inputRef",ref:Y,id:y.uid?`dp-input-${y.uid}`:void 0,name:y.name,class:e.normalizeClass(b.value),inputmode:y.textInput?"text":"none",placeholder:y.placeholder,disabled:y.disabled,readonly:y.readonly,required:y.required,value:t.inputValue,autocomplete:y.autocomplete,"aria-label":(E=e.unref(h).ariaLabels)==null?void 0:E.input,onInput:V,onKeydown:[e.withKeys(U,["enter"]),e.withKeys(K,["tab"]),re],onBlur:ne,onFocus:F,onKeypress:re,onPaste:R},null,42,Jn)),e.createElementVNode("div",{onClick:A[0]||(A[0]=$=>r("toggle"))},[y.$slots["input-icon"]&&!y.hideInputIcon?(e.openBlock(),e.createElementBlock("span",Qn,[e.renderSlot(y.$slots,"input-icon")])):e.createCommentVNode("",!0),!y.$slots["input-icon"]&&!y.hideInputIcon&&!y.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(He),{key:1,class:"dp__input_icon dp__input_icons"})):e.createCommentVNode("",!0)]),y.$slots["clear-icon"]&&t.inputValue&&y.clearable&&!y.disabled&&!y.readonly?(e.openBlock(),e.createElementBlock("span",Fn,[e.renderSlot(y.$slots,"clear-icon",{clear:ae})])):e.createCommentVNode("",!0),y.clearable&&!y.$slots["clear-icon"]&&t.inputValue&&!y.disabled&&!y.readonly?(e.openBlock(),e.createBlock(e.unref(en),{key:3,class:"dp__clear_icon dp__input_icons",onClick:e.withModifiers(ae,["stop","prevent"])},null,8,["onClick"])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])}}}),ta=["title"],na={class:"dp__action_buttons"},aa=["onKeydown","disabled"],ra=e.defineComponent({__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},calendarWidth:{type:Number,default:0},...Ve},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:a}){const r=t,{formatDate:n,isValidTime:u,defaults:m}=De(r),{buildMatrix:h}=Ae(),T=e.ref(null),_=e.ref(null);e.onMounted(()=>{r.arrowNavigation&&h([ce(T),ce(_)],"actionRow")});const N=e.computed(()=>r.range&&!r.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),Y=e.computed(()=>!v.value||!f.value||!N.value),v=e.computed(()=>!r.enableTimePicker||r.ignoreTimeValidation?!0:u(r.internalModelValue)),f=e.computed(()=>r.monthPicker?r.range&&Array.isArray(r.internalModelValue)?!r.internalModelValue.filter(U=>!R(U)).length:R(r.internalModelValue):!0),b=()=>{const V=m.value.previewFormat;return r.timePicker||r.monthPicker,V(ye(r.internalModelValue))},G=()=>{const V=r.internalModelValue;return m.value.multiCalendars>0?`${n(V[0])} - ${n(V[1])}`:[n(V[0]),n(V[1])]},L=e.computed(()=>!r.internalModelValue||!r.menuMount?"":typeof m.value.previewFormat=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?G():r.multiDates?r.internalModelValue.map(V=>`${n(V)}`):r.modelAuto?`${n(r.internalModelValue[0])}`:`${n(r.internalModelValue[0])} -`:n(r.internalModelValue):b()),z=e.computed(()=>Array.isArray(L.value)?L.value.join(r.multiDates?"; ":" - "):L.value),R=V=>{if(!r.monthPicker)return!0;let U=!0;const K=S(xe(V));if(r.minDate&&r.maxDate){const F=S(xe(r.minDate)),te=S(xe(r.maxDate));return he(K,F)&&ge(K,te)||oe(K,F)||oe(K,te)}if(r.minDate){const F=S(xe(r.minDate));U=he(K,F)||oe(K,F)}if(r.maxDate){const F=S(xe(r.maxDate));U=ge(K,F)||oe(K,F)}return U},I=()=>{v.value&&f.value&&N.value?a("select-date"):a("invalid-select")};return(V,U)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__action_row",style:e.normalizeStyle(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[V.$slots["action-row"]?e.renderSlot(V.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:t.internalModelValue,disabled:Y.value,selectDate:()=>V.$emit("select-date"),closePicker:()=>V.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(m).actionRow.showPreview?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__selection_preview",title:z.value},[V.$slots["action-preview"]?e.renderSlot(V.$slots,"action-preview",{key:0,value:t.internalModelValue}):e.createCommentVNode("",!0),V.$slots["action-preview"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(z.value),1)],64))],8,ta)):e.createCommentVNode("",!0),e.createElementVNode("div",na,[V.$slots["action-buttons"]?e.renderSlot(V.$slots,"action-buttons",{key:0,value:t.internalModelValue}):e.createCommentVNode("",!0),V.$slots["action-buttons"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!V.inline&&e.unref(m).actionRow.showCancel?(e.openBlock(),e.createElementBlock("button",{key:0,type:"button",ref_key:"cancelButtonRef",ref:T,class:"dp__action_button dp__action_cancel",onClick:U[0]||(U[0]=K=>V.$emit("close-picker")),onKeydown:[U[1]||(U[1]=e.withKeys(K=>V.$emit("close-picker"),["enter"])),U[2]||(U[2]=e.withKeys(K=>V.$emit("close-picker"),["space"]))]},e.toDisplayString(V.cancelText),545)):e.createCommentVNode("",!0),V.showNowButton||e.unref(m).actionRow.showNow?(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",ref_key:"cancelButtonRef",ref:T,class:"dp__action_button dp__action_cancel",onClick:U[3]||(U[3]=K=>V.$emit("select-now")),onKeydown:[U[4]||(U[4]=e.withKeys(K=>V.$emit("select-now"),["enter"])),U[5]||(U[5]=e.withKeys(K=>V.$emit("select-now"),["space"]))]},e.toDisplayString(V.nowButtonLabel),545)):e.createCommentVNode("",!0),e.unref(m).actionRow.showSelect?(e.openBlock(),e.createElementBlock("button",{key:2,type:"button",class:"dp__action_button dp__action_select",onKeydown:[e.withKeys(I,["enter"]),e.withKeys(I,["space"])],onClick:I,disabled:Y.value,ref_key:"selectButtonRef",ref:_},e.toDisplayString(V.selectText),41,aa)):e.createCommentVNode("",!0)],64))])],64))],4))}}),la=["aria-label"],oa={class:"dp__calendar_header",role:"row"},sa={key:0,class:"dp__calendar_header_item",role:"gridcell"},ia=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),ua=["aria-label"],ca={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},da={class:"dp__cell_inner"},fa=["aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],ma=e.defineComponent({__name:"Calendar",props:{mappedDates:{type:Array,default:()=>[]},getWeekNum:{type:Function,default:()=>""},specificMode:{type:Boolean,default:!1},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Ve},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:a,emit:r}){const n=t,{buildMultiLevelMatrix:u}=Ae(),{setDateMonthOrYear:m,defaults:h}=De(n),T=e.ref(null),_=e.ref({bottom:"",left:"",transform:""}),N=e.ref([]),Y=e.ref(null),v=e.ref(!0),f=e.ref(""),b=e.ref({startX:0,endX:0,startY:0,endY:0}),G=e.ref([]),L=e.ref({left:"50%"}),z=e.computed(()=>n.dayNames?Array.isArray(n.dayNames)?n.dayNames:n.dayNames(n.locale,+n.weekStart):Vn(n.locale,+n.weekStart));e.onMounted(()=>{r("mount",{cmp:"calendar",refs:N}),n.noSwipe||Y.value&&(Y.value.addEventListener("touchstart",P,{passive:!1}),Y.value.addEventListener("touchend",C,{passive:!1}),Y.value.addEventListener("touchmove",y,{passive:!1})),n.monthChangeOnScroll&&Y.value&&Y.value.addEventListener("wheel",$,{passive:!1})});const R=g=>g?n.vertical?"vNext":"next":n.vertical?"vPrevious":"previous",I=(g,d)=>{if(n.transitions){const o=Me(m(S(),n.month,n.year));f.value=he(Me(m(S(),g,d)),o)?h.value.transitions[R(!0)]:h.value.transitions[R(!1)],v.value=!1,e.nextTick(()=>{v.value=!0})}},V=e.computed(()=>({[n.calendarClassName]:!!n.calendarClassName})),U=e.computed(()=>g=>{const d=On(g);return{dp__marker_dot:d.type==="dot",dp__marker_line:d.type==="line"}}),K=e.computed(()=>g=>oe(g,T.value)),F=e.computed(()=>({dp__calendar:!0,dp__calendar_next:h.value.multiCalendars>0&&n.instance!==0})),te=e.computed(()=>g=>n.hideOffsetDates?g.current:!0),ne=e.computed(()=>n.specificMode?{height:`${n.modeHeight}px`}:void 0),ae=async(g,d,o)=>{var l,k;if(r("set-hover-date",g),(k=(l=g.marker)==null?void 0:l.tooltip)!=null&&k.length){const M=ce(N.value[d][o]);if(M){const{width:B,height:q}=M.getBoundingClientRect();T.value=g.value;let p={left:`${B/2}px`},s=-50;if(await e.nextTick(),G.value[0]){const{left:O,width:Z}=G.value[0].getBoundingClientRect();O<0&&(p={left:"0"},s=0,L.value.left=`${B/2}px`),window.innerWidth<O+Z&&(p={right:"0"},s=0,L.value.left=`${Z-B/2}px`)}_.value={bottom:`${q}px`,...p,transform:`translateX(${s}%)`},r("tooltip-open",g.marker)}}},re=g=>{T.value&&(T.value=null,_.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",g.marker))},P=g=>{b.value.startX=g.changedTouches[0].screenX,b.value.startY=g.changedTouches[0].screenY},C=g=>{b.value.endX=g.changedTouches[0].screenX,b.value.endY=g.changedTouches[0].screenY,A()},y=g=>{n.vertical&&!n.inline&&g.preventDefault()},A=()=>{const g=n.vertical?"Y":"X";Math.abs(b.value[`start${g}`]-b.value[`end${g}`])>10&&r("handle-swipe",b.value[`start${g}`]>b.value[`end${g}`]?"right":"left")},E=(g,d,o)=>{g&&(Array.isArray(N.value[d])?N.value[d][o]=g:N.value[d]=[g]),n.arrowNavigation&&u(N.value,"calendar")},$=g=>{n.monthChangeOnScroll&&(g.preventDefault(),r("handle-scroll",g))};return a({triggerTransition:I}),(g,d)=>{var o;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(F.value)},[e.createElementVNode("div",{style:e.normalizeStyle(ne.value),ref_key:"calendarWrapRef",ref:Y,role:"grid",class:e.normalizeClass(V.value),"aria-label":(o=e.unref(h).ariaLabels)==null?void 0:o.calendarWrap},[t.specificMode?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("div",oa,[g.weekNumbers?(e.openBlock(),e.createElementBlock("div",sa,e.toDisplayString(g.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(z.value,(l,k)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_header_item",role:"gridcell",key:k},[g.$slots["calendar-header"]?e.renderSlot(g.$slots,"calendar-header",{key:0,day:l,index:k}):e.createCommentVNode("",!0),g.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(l),1)],64))]))),128))]),ia,e.createVNode(e.Transition,{name:f.value,css:!!g.transitions},{default:e.withCtx(()=>{var l;return[v.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"grid","aria-label":(l=e.unref(h).ariaLabels)==null?void 0:l.calendarDays},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.mappedDates,(k,M)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_row",role:"row",key:M},[g.weekNumbers?(e.openBlock(),e.createElementBlock("div",ca,[e.createElementVNode("div",da,e.toDisplayString(t.getWeekNum(k.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(k.days,(B,q)=>{var p,s,O;return e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:Z=>E(Z,M,q),key:q+M,"aria-selected":B.classData.dp__active_date||B.classData.dp__range_start||B.classData.dp__range_start,"aria-disabled":B.classData.dp__cell_disabled,"aria-label":(s=(p=e.unref(h).ariaLabels)==null?void 0:p.day)==null?void 0:s.call(p,B),tabindex:"0",onClick:e.withModifiers(Z=>g.$emit("select-date",B),["stop","prevent"]),onKeydown:[e.withKeys(Z=>g.$emit("select-date",B),["enter"]),e.withKeys(Z=>g.$emit("handle-space",B),["space"])],onMouseenter:Z=>ae(B,M,q),onMouseleave:Z=>re(B)},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",B.classData])},[g.$slots.day&&te.value(B)?e.renderSlot(g.$slots,"day",{key:0,day:+B.text,date:B.value}):e.createCommentVNode("",!0),g.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(B.text),1)],64)),B.marker&&te.value(B)?(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(U.value(B.marker)),style:e.normalizeStyle(B.marker.color?{backgroundColor:B.marker.color}:{})},null,6)):e.createCommentVNode("",!0),K.value(B.value)?(e.openBlock(),e.createElementBlock("div",{key:3,class:"dp__marker_tooltip",ref_for:!0,ref_key:"activeTooltip",ref:G,style:e.normalizeStyle(_.value)},[(O=B.marker)!=null&&O.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:d[0]||(d[0]=e.withModifiers(()=>{},["stop"]))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(B.marker.tooltip,(Z,se)=>(e.openBlock(),e.createElementBlock("div",{key:se,class:"dp__tooltip_text"},[g.$slots["marker-tooltip"]?e.renderSlot(g.$slots,"marker-tooltip",{key:0,tooltip:Z,day:B.value}):e.createCommentVNode("",!0),g.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(Z.color?{backgroundColor:Z.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(Z.text),1)],64))]))),128)),e.createElementVNode("div",{class:"dp__arrow_bottom_tp",style:e.normalizeStyle(L.value)},null,4)])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,fa)}),128))]))),128))],8,ua)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],64))],14,la)],2)}}}),ya=["aria-label","aria-disabled"],kt=e.defineComponent({__name:"ActionIcon",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:a}){const r=e.ref(null);return e.onMounted(()=>a("set-ref",r)),(n,u)=>(e.openBlock(),e.createElementBlock("button",{type:"button",class:"dp__btn dp__month_year_col_nav",onClick:u[0]||(u[0]=m=>n.$emit("activate")),onKeydown:[u[1]||(u[1]=e.withKeys(m=>n.$emit("activate"),["enter"])),u[2]||(u[2]=e.withKeys(m=>n.$emit("activate"),["space"]))],tabindex:"0","aria-label":n.ariaLabel,"aria-disabled":n.disabled,ref_key:"elRef",ref:r},[e.createElementVNode("span",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:n.disabled}])},[e.renderSlot(n.$slots,"default")],2)],40,ya))}}),pa=["onKeydown"],ga={class:"dp__selection_grid_header"},ha=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],ka=["aria-label","onKeydown"],ze=e.defineComponent({__name:"SelectionGrid",props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1},headerRefs:{type:Array,default:()=>[]},skipButtonRef:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1},escClose:{type:Boolean,default:!0},type:{type:String,default:null},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","selected","toggle","reset-flow"],setup(t,{expose:a,emit:r}){const n=t,{setSelectionGrid:u,buildMultiLevelMatrix:m,setMonthPicker:h}=Ae(),{hideNavigationButtons:T}=De(n),_=e.ref(!1),N=e.ref(null),Y=e.ref(null),v=e.ref([]),f=e.ref(),b=e.ref(null),G=e.ref(0),L=e.ref(null);e.onBeforeUpdate(()=>{N.value=null}),e.onMounted(()=>{e.nextTick().then(()=>ae()),R(),z(!0)}),e.onUnmounted(()=>z(!1));const z=$=>{var g;n.arrowNavigation&&((g=n.headerRefs)!=null&&g.length?h($):u($))},R=()=>{const $=ce(Y);$&&(n.textInput||$.focus({preventScroll:!0}),_.value=$.clientHeight<$.scrollHeight)},I=e.computed(()=>({dp__overlay:!0})),V=e.computed(()=>({dp__overlay_col:!0})),U=$=>n.skipActive?!1:$.value===n.modelValue,K=e.computed(()=>n.items.map($=>$.filter(g=>g).map(g=>{var l,k,M;const d=n.disabledValues.some(B=>B===g.value)||ne(g.value),o=(l=n.multiModelValue)!=null&&l.length?(k=n.multiModelValue)==null?void 0:k.some(B=>oe(B,c.setYear(n.monthPicker?c.setMonth(new Date,g.value):new Date,n.monthPicker?n.year:g.value))):U(g);return{...g,className:{dp__overlay_cell_active:o,dp__overlay_cell:!o,dp__overlay_cell_disabled:d,dp__overlay_cell_active_disabled:d&&o,dp__overlay_cell_pad:!0,dp__cell_in_between:(M=n.multiModelValue)!=null&&M.length&&n.skipActive?P(g.value):!1}}}))),F=e.computed(()=>({dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:_.value,dp__button_bottom:n.autoApply})),te=e.computed(()=>{var $,g;return{dp__overlay_container:!0,dp__container_flex:(($=n.items)==null?void 0:$.length)<=6,dp__container_block:((g=n.items)==null?void 0:g.length)>6}}),ne=$=>{const g=n.maxValue||n.maxValue===0,d=n.minValue||n.minValue===0;return!g&&!d?!1:g&&d?+$>+n.maxValue||+$<+n.minValue:g?+$>+n.maxValue:d?+$<+n.minValue:!1},ae=()=>{const $=ce(N),g=ce(Y),d=ce(b),o=ce(L),l=d?d.getBoundingClientRect().height:0;g&&(G.value=g.getBoundingClientRect().height-l),$&&o&&(o.scrollTop=$.offsetTop-o.offsetTop-(G.value/2-$.getBoundingClientRect().height)-l)},re=$=>{!n.disabledValues.some(g=>g===$)&&!ne($)&&(r("update:model-value",$),r("selected"))},P=$=>{const g=n.monthPicker?n.year:$;return Et(n.multiModelValue,c.setYear(n.monthPicker?c.setMonth(new Date,f.value||0):new Date,n.monthPicker?g:f.value||g),c.setYear(n.monthPicker?c.setMonth(new Date,$):new Date,g))},C=()=>{r("toggle"),r("reset-flow")},y=()=>{n.escClose&&C()},A=($,g,d,o)=>{$&&(g.value===+n.modelValue&&!n.disabledValues.includes(g.value)&&(N.value=$),n.arrowNavigation&&(Array.isArray(v.value[d])?v.value[d][o]=$:v.value[d]=[$],E()))},E=()=>{var g,d;const $=(g=n.headerRefs)!=null&&g.length?[n.headerRefs].concat(v.value):v.value.concat([n.skipButtonRef?[]:[b.value]]);m(ye($),(d=n.headerRefs)!=null&&d.length?"monthPicker":"selectionGrid")};return a({focusGrid:R}),($,g)=>{var d;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:Y,class:e.normalizeClass(I.value),role:"dialog",tabindex:"0",onKeydown:e.withKeys(y,["esc"])},[e.createElementVNode("div",{class:e.normalizeClass(te.value),ref_key:"containerRef",ref:L,role:"grid",style:e.normalizeStyle({height:`${G.value}px`})},[e.createElementVNode("div",ga,[e.renderSlot($.$slots,"header")]),$.$slots.overlay?e.renderSlot($.$slots,"overlay",{key:0}):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(K.value,(o,l)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["dp__overlay_row",{dp__flex_row:K.value.length>=3}]),key:l,role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o,(k,M)=>(e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:e.normalizeClass(V.value),key:k.value,"aria-selected":k.value===t.modelValue&&!t.disabledValues.includes(k.value),"aria-disabled":k.className.dp__overlay_cell_disabled,ref_for:!0,ref:B=>A(B,k,l,M),tabindex:"0",onClick:B=>re(k.value),onKeydown:[e.withKeys(B=>re(k.value),["enter"]),e.withKeys(B=>re(k.value),["space"])],onMouseover:B=>f.value=k.value},[e.createElementVNode("div",{class:e.normalizeClass(k.className)},[$.$slots.item?e.renderSlot($.$slots,"item",{key:0,item:k}):e.createCommentVNode("",!0),$.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(k.text),1)],64))],2)],42,ha))),128))],2))),128))],6),$.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:0,role:"button","aria-label":(d=t.ariaLabels)==null?void 0:d.toggleOverlay,class:e.normalizeClass(F.value),tabindex:"0",ref_key:"toggleButton",ref:b,onClick:C,onKeydown:e.withKeys(C,["enter"])},[e.renderSlot($.$slots,"button-icon")],42,ka)),[[e.vShow,!e.unref(T)(t.type)]]):e.createCommentVNode("",!0)],42,pa)}}}),wa=["aria-label"],Jt=e.defineComponent({__name:"RegularPicker",props:{ariaLabel:{type:String,default:""},showSelectionGrid:{type:Boolean,default:!1},modelValue:{type:Number,default:null},items:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:Number,default:null},maxValue:{type:Number,default:null},slotName:{type:String,default:""},overlaySlot:{type:String,default:""},headerRefs:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},type:{type:String,default:null},transitions:{type:[Object,Boolean],default:!1},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","toggle","set-ref"],setup(t,{emit:a}){const r=t,{transitionName:n,showTransition:u}=Xe(r.transitions),m=e.ref(null);return e.onMounted(()=>a("set-ref",m)),(h,T)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("button",{type:"button",class:"dp__btn dp__month_year_select",onClick:T[0]||(T[0]=_=>h.$emit("toggle")),onKeydown:[T[1]||(T[1]=e.withKeys(_=>h.$emit("toggle"),["enter"])),T[2]||(T[2]=e.withKeys(_=>h.$emit("toggle"),["space"]))],"aria-label":t.ariaLabel,tabindex:"0",ref_key:"elRef",ref:m},[e.renderSlot(h.$slots,"default")],40,wa),e.createVNode(e.Transition,{name:e.unref(n)(t.showSelectionGrid),css:e.unref(u)},{default:e.withCtx(()=>[t.showSelectionGrid?(e.openBlock(),e.createBlock(ze,e.mergeProps({key:0},{modelValue:t.modelValue,items:t.items,disabledValues:t.disabledValues,minValue:t.minValue,maxValue:t.maxValue,escClose:t.escClose,type:t.type,arrowNavigation:t.arrowNavigation,textInput:t.textInput,autoApply:t.autoApply,ariaLabels:t.ariaLabels,hideNavigation:t.hideNavigation},{"header-refs":[],"onUpdate:modelValue":T[3]||(T[3]=_=>h.$emit("update:model-value",_)),onToggle:T[4]||(T[4]=_=>h.$emit("toggle"))}),e.createSlots({"button-icon":e.withCtx(()=>[h.$slots["calendar-icon"]?e.renderSlot(h.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),h.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(He),{key:1}))]),_:2},[h.$slots[t.slotName]?{name:"item",fn:e.withCtx(({item:_})=>[e.renderSlot(h.$slots,t.slotName,{item:_})]),key:"0"}:void 0,h.$slots[t.overlaySlot]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(h.$slots,t.overlaySlot)]),key:"1"}:void 0,h.$slots[`${t.overlaySlot}-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(h.$slots,`${t.overlaySlot}-header`)]),key:"2"}:void 0]),1040)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],64))}}),ba={class:"dp__month_year_row"},Da={class:"dp__month_picker_header"},Ca=["aria-label"],Ma=["aria-label"],$a=["aria-label"],Sa=e.defineComponent({__name:"MonthYearPicker",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},internalModelValue:{type:[Date,Array],default:null},...Ve},emits:["update-month-year","month-year-select","mount","reset-flow","overlay-closed"],setup(t,{expose:a,emit:r}){const n=t,{defaults:u}=De(n),{transitionName:m,showTransition:h}=Xe(u.value.transitions),{buildMatrix:T}=Ae(),{handleMonthYearChange:_,isDisabled:N,updateMonthYear:Y}=jn(n,r),v=e.ref(!1),f=e.ref(!1),b=e.ref([null,null,null,null]),G=e.ref(null),L=e.ref(null),z=e.ref(null);e.onMounted(()=>{r("mount")});const R=p=>({get:()=>n[p],set:s=>{const O=p==="month"?"year":"month";r("update-month-year",{[p]:s,[O]:n[O]}),r("month-year-select",p==="year"),p==="month"?l(!0):k(!0)}}),I=e.computed(R("month")),V=e.computed(R("year")),U=p=>{const s=c.getYear(S(p));return n.year===s},K=e.computed(()=>n.monthPicker?Array.isArray(n.disabledDates)?n.disabledDates.map(p=>S(p)).filter(p=>U(p)).map(p=>c.getMonth(p)):[]:[]),F=e.computed(()=>p=>{const s=p==="month";return{showSelectionGrid:(s?v:f).value,items:(s?E:$).value,disabledValues:u.value.filters[s?"months":"years"].concat(K.value),minValue:(s?re:ne).value,maxValue:(s?P:ae).value,headerRefs:s&&n.monthPicker?[G.value,L.value,z.value]:[],escClose:n.escClose,transitions:u.value.transitions,ariaLabels:u.value.ariaLabels,textInput:n.textInput,autoApply:n.autoApply,arrowNavigation:n.arrowNavigation,hideNavigation:n.hideNavigation}}),te=e.computed(()=>p=>({month:n.month,year:n.year,items:p==="month"?n.months:n.years,instance:n.instance,updateMonthYear:Y,toggle:p==="month"?l:k})),ne=e.computed(()=>n.minDate?c.getYear(S(n.minDate)):null),ae=e.computed(()=>n.maxDate?c.getYear(S(n.maxDate)):null),re=e.computed(()=>{if(n.minDate&&ne.value){if(ne.value>n.year)return 12;if(ne.value===n.year)return c.getMonth(S(n.minDate))}return null}),P=e.computed(()=>n.maxDate&&ae.value?ae.value<n.year?-1:ae.value===n.year?c.getMonth(S(n.maxDate)):null:null),C=e.computed(()=>(n.range||n.multiDates)&&n.internalModelValue&&(n.monthPicker||n.yearPicker)?n.internalModelValue:[]),y=p=>{const s=[],O=Z=>Z;for(let Z=0;Z<p.length;Z+=3){const se=[p[Z],p[Z+1],p[Z+2]];s.push(O(se))}return s},A=e.computed(()=>{const p=n.months.find(s=>s.value===n.month);return p||{text:"",value:0}}),E=e.computed(()=>y(n.months)),$=e.computed(()=>y(n.years)),g=e.computed(()=>u.value.multiCalendars?n.multiCalendarsSolo?!0:n.instance===0:!0),d=e.computed(()=>u.value.multiCalendars?n.multiCalendarsSolo?!0:n.instance===u.value.multiCalendars-1:!0),o=(p,s)=>{s!==void 0?p.value=s:p.value=!p.value},l=(p=!1,s)=>{M(p),o(v,s),v.value||r("overlay-closed")},k=(p=!1,s)=>{M(p),o(f,s),f.value||r("overlay-closed")},M=p=>{p||r("reset-flow")},B=(p=!1)=>{N.value(p)||r("update-month-year",{year:p?n.year+1:n.year-1,month:n.month,fromNav:!0})},q=(p,s)=>{n.arrowNavigation&&(b.value[s]=ce(p),T(b.value,"monthYear"))};return a({toggleMonthPicker:l,toggleYearPicker:k,handleMonthYearChange:_}),(p,s)=>{var O,Z,se,$e,Ne;return e.openBlock(),e.createElementBlock("div",ba,[p.$slots["month-year"]?e.renderSlot(p.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(Y),handleMonthYearChange:e.unref(_),instance:t.instance}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!p.monthPicker&&!p.yearPicker?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[g.value&&!p.vertical?(e.openBlock(),e.createBlock(kt,{key:0,"aria-label":(O=e.unref(u).ariaLabels)==null?void 0:O.prevMonth,disabled:e.unref(N)(!1),onActivate:s[0]||(s[0]=J=>e.unref(_)(!1)),onSetRef:s[1]||(s[1]=J=>q(J,0))},{default:e.withCtx(()=>[p.$slots["arrow-left"]?e.renderSlot(p.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),p.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Nt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["dp__month_year_wrap",{dp__year_disable_select:n.disableYearSelect}])},[e.createVNode(Jt,e.mergeProps({type:"month","slot-name":"month-overlay-val","overlay-slot":"overlay-month","aria-label":(Z=e.unref(u).ariaLabels)==null?void 0:Z.openMonthsOverlay,modelValue:I.value,"onUpdate:modelValue":s[2]||(s[2]=J=>I.value=J)},F.value("month"),{onToggle:l,onSetRef:s[3]||(s[3]=J=>q(J,1))}),e.createSlots({default:e.withCtx(()=>[p.$slots.month?e.renderSlot(p.$slots,"month",e.normalizeProps(e.mergeProps({key:0},A.value))):e.createCommentVNode("",!0),p.$slots.month?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(A.value.text),1)],64))]),_:2},[p.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx(()=>[e.renderSlot(p.$slots,"calendar-icon")]),key:"0"}:void 0,p.$slots["month-overlay-value"]?{name:"month-overlay-val",fn:e.withCtx(({item:J})=>[e.renderSlot(p.$slots,"month-overlay-value",{text:J.text,value:J.value})]),key:"1"}:void 0,p.$slots["month-overlay"]?{name:"overlay-month",fn:e.withCtx(()=>[e.renderSlot(p.$slots,"month-overlay",e.normalizeProps(e.guardReactiveProps(te.value("month"))))]),key:"2"}:void 0,p.$slots["month-overlay-header"]?{name:"overlay-month-header",fn:e.withCtx(()=>[e.renderSlot(p.$slots,"month-overlay-header",{toggle:l})]),key:"3"}:void 0]),1040,["aria-label","modelValue"]),n.disableYearSelect?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(Jt,e.mergeProps({key:0,type:"year","slot-name":"year-overlay-val","overlay-slot":"overlay-year","aria-label":(se=e.unref(u).ariaLabels)==null?void 0:se.openYearsOverlay,modelValue:V.value,"onUpdate:modelValue":s[4]||(s[4]=J=>V.value=J)},F.value("year"),{onToggle:k,onSetRef:s[5]||(s[5]=J=>q(J,2))}),e.createSlots({default:e.withCtx(()=>[p.$slots.year?e.renderSlot(p.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),p.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))]),_:2},[p.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx(()=>[e.renderSlot(p.$slots,"calendar-icon")]),key:"0"}:void 0,p.$slots["year-overlay-value"]?{name:"year-overlay-val",fn:e.withCtx(({item:J})=>[e.renderSlot(p.$slots,"year-overlay-value",{text:J.text,value:J.value})]),key:"1"}:void 0,p.$slots["year-overlay"]?{name:"overlay-year",fn:e.withCtx(()=>[e.renderSlot(p.$slots,"year-overlay",e.normalizeProps(e.guardReactiveProps(te.value("year"))))]),key:"2"}:void 0,p.$slots["year-overlay-header"]?{name:"overlay-year-header",fn:e.withCtx(()=>[e.renderSlot(p.$slots,"year-overlay-header",{toggle:k})]),key:"3"}:void 0]),1040,["aria-label","modelValue"]))],2),g.value&&p.vertical?(e.openBlock(),e.createBlock(kt,{key:1,"aria-label":($e=e.unref(u).ariaLabels)==null?void 0:$e.prevMonth,disabled:e.unref(N)(!1),onActivate:s[6]||(s[6]=J=>e.unref(_)(!1))},{default:e.withCtx(()=>[p.$slots["arrow-up"]?e.renderSlot(p.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),p.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Pt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),d.value?(e.openBlock(),e.createBlock(kt,{key:2,ref:"rightIcon",disabled:e.unref(N)(!0),"aria-label":(Ne=e.unref(u).ariaLabels)==null?void 0:Ne.nextMonth,onActivate:s[7]||(s[7]=J=>e.unref(_)(!0)),onSetRef:s[8]||(s[8]=J=>q(J,3))},{default:e.withCtx(()=>[p.$slots[p.vertical?"arrow-down":"arrow-right"]?e.renderSlot(p.$slots,p.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),p.$slots[p.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(p.vertical?e.unref(At):e.unref(vt)),{key:1}))]),_:3},8,["disabled","aria-label"])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),p.monthPicker?(e.openBlock(),e.createBlock(ze,e.mergeProps({key:1},F.value("month"),{"skip-active":p.range,year:t.year,"multi-model-value":C.value,"month-picker":"",modelValue:I.value,"onUpdate:modelValue":s[17]||(s[17]=J=>I.value=J),onToggle:l,onSelected:s[18]||(s[18]=J=>p.$emit("overlay-closed"))}),e.createSlots({header:e.withCtx(()=>{var J,ve,be;return[e.createElementVNode("div",Da,[e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpPrevIconRef",ref:G,onClick:s[9]||(s[9]=me=>B(!1)),onKeydown:s[10]||(s[10]=e.withKeys(me=>B(!1),["enter"]))},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:e.unref(N)(!1)}]),role:"button","aria-label":(J=e.unref(u).ariaLabels)==null?void 0:J.prevMonth},[p.$slots["arrow-left"]?e.renderSlot(p.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),p.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Nt),{key:1}))],10,Ca)],544),e.createElementVNode("div",{class:"dp__pointer",role:"button",ref_key:"mpYearButtonRef",ref:L,"aria-label":(ve=e.unref(u).ariaLabels)==null?void 0:ve.openYearsOverlay,tabindex:"0",onClick:s[11]||(s[11]=()=>k(!1)),onKeydown:s[12]||(s[12]=e.withKeys(()=>k(!1),["enter"]))},[p.$slots.year?e.renderSlot(p.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),p.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))],40,Ma),e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpNextIconRef",ref:z,onClick:s[13]||(s[13]=me=>B(!0)),onKeydown:s[14]||(s[14]=e.withKeys(me=>B(!0),["enter"]))},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:e.unref(N)(!0)}]),role:"button","aria-label":(be=e.unref(u).ariaLabels)==null?void 0:be.nextMonth},[p.$slots["arrow-right"]?e.renderSlot(p.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),p.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(vt),{key:1}))],10,$a)],544)]),e.createVNode(e.Transition,{name:e.unref(m)(f.value),css:e.unref(h)},{default:e.withCtx(()=>[f.value?(e.openBlock(),e.createBlock(ze,e.mergeProps({key:0},F.value("year"),{modelValue:V.value,"onUpdate:modelValue":s[15]||(s[15]=me=>V.value=me),onToggle:k,onSelected:s[16]||(s[16]=me=>p.$emit("overlay-closed"))}),e.createSlots({"button-icon":e.withCtx(()=>[p.$slots["calendar-icon"]?e.renderSlot(p.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),p.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(He),{key:1}))]),_:2},[p.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:me})=>[e.renderSlot(p.$slots,"year-overlay-value",{text:me.text,value:me.value})]),key:"0"}:void 0]),1040,["modelValue"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]}),_:2},[p.$slots["month-overlay-value"]?{name:"item",fn:e.withCtx(({item:J})=>[e.renderSlot(p.$slots,"month-overlay-value",{text:J.text,value:J.value})]),key:"0"}:void 0]),1040,["skip-active","year","multi-model-value","modelValue"])):e.createCommentVNode("",!0),p.yearPicker?(e.openBlock(),e.createBlock(ze,e.mergeProps({key:2},F.value("year"),{modelValue:V.value,"onUpdate:modelValue":s[19]||(s[19]=J=>V.value=J),"multi-model-value":C.value,"skip-active":p.range,"skip-button-ref":"","year-picker":"",onToggle:k,onSelected:s[20]||(s[20]=J=>p.$emit("overlay-closed"))}),e.createSlots({_:2},[p.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:J})=>[e.renderSlot(p.$slots,"year-overlay-value",{text:J.text,value:J.value})]),key:"0"}:void 0]),1040,["modelValue","multi-model-value","skip-active"])):e.createCommentVNode("",!0)],64))])}}}),Ba={key:0,class:"dp__time_input"},Na=["aria-label","onKeydown","onClick"],va=["aria-label","onKeydown","onClick"],Ta=["aria-label","onKeydown","onClick"],Pa={key:0},Aa=["aria-label","onKeydown"],Va=e.defineComponent({__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},...Ve},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:a,emit:r}){const n=t,{setTimePickerElements:u,setTimePickerBackRef:m}=Ae(),{defaults:h}=De(n),{transitionName:T,showTransition:_}=Xe(h.value.transitions),N=e.reactive({hours:!1,minutes:!1,seconds:!1}),Y=e.ref("AM"),v=e.ref(null),f=e.ref([]);e.onMounted(()=>{r("mounted")});const b=o=>c.set(new Date,{hours:o.hours,minutes:o.minutes,seconds:n.enableSeconds?o.seconds:0,milliseconds:0}),G=e.computed(()=>({hours:n.hours,minutes:n.minutes,seconds:n.seconds})),L=e.computed(()=>o=>!ne(+n[o]+ +n[`${o}Increment`],o)),z=e.computed(()=>o=>!ne(+n[o]-+n[`${o}Increment`],o)),R=(o,l)=>c.add(c.set(S(),o),l),I=(o,l)=>c.sub(c.set(S(),o),l),V=e.computed(()=>({dp__time_col:!0,dp__time_col_reg:!n.enableSeconds&&n.is24,dp__time_col_reg_with_button:!n.enableSeconds&&!n.is24,dp__time_col_sec:n.enableSeconds&&n.is24,dp__time_col_sec_with_button:n.enableSeconds&&!n.is24})),U=e.computed(()=>{const o=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return n.enableSeconds?o.concat([{type:"",separator:!0},{type:"seconds"}]):o}),K=e.computed(()=>U.value.filter(o=>!o.separator)),F=e.computed(()=>o=>{if(o==="hours"){const l=A(+n.hours);return{text:l<10?`0${l}`:`${l}`,value:l}}return{text:n[o]<10?`0${n[o]}`:`${n[o]}`,value:n[o]}}),te=o=>{const l=n.is24?24:12,k=o==="hours"?l:60,M=+n[`${o}GridIncrement`],B=o==="hours"&&!n.is24?M:0,q=[];for(let p=B;p<k;p+=M)q.push({value:p,text:p<10?`0${p}`:`${p}`});return o==="hours"&&!n.is24&&q.push({value:0,text:"12"}),An(q)},ne=(o,l)=>{const k=n.minTime?b(et(n.minTime)):null,M=n.maxTime?b(et(n.maxTime)):null,B=b(et(G.value,l,o));return k&&M?(c.isBefore(B,M)||c.isEqual(B,M))&&(c.isAfter(B,k)||c.isEqual(B,k)):k?c.isAfter(B,k)||c.isEqual(B,k):M?c.isBefore(B,M)||c.isEqual(B,M):!0},ae=e.computed(()=>o=>te(o).flat().filter(k=>k||(k==null?void 0:k.value)===0).map(k=>k.value).filter(k=>!ne(k,o))),re=o=>n[`no${o[0].toUpperCase()+o.slice(1)}Overlay`],P=o=>{re(o)||(N[o]=!N[o],N[o]||r("overlay-closed"))},C=o=>o==="hours"?c.getHours:o==="minutes"?c.getMinutes:c.getSeconds,y=(o,l=!0)=>{const k=l?R:I,M=l?+n[`${o}Increment`]:-+n[`${o}Increment`];ne(+n[o]+M,o)&&r(`update:${o}`,C(o)(k({[o]:+n[o]},{[o]:+n[`${o}Increment`]})))},A=o=>n.is24?o:(o>=12?Y.value="PM":Y.value="AM",_n(o)),E=()=>{Y.value==="PM"?(Y.value="AM",r("update:hours",n.hours-12)):(Y.value="PM",r("update:hours",n.hours+12)),r("am-pm-change",Y.value)},$=o=>{N[o]=!0},g=(o,l,k)=>{if(o&&n.arrowNavigation){Array.isArray(f.value[l])?f.value[l][k]=o:f.value[l]=[o];const M=f.value.reduce((B,q)=>q.map((p,s)=>[...B[s]||[],q[s]]),[]);m(n.closeTimePickerBtn),v.value&&(M[1]=M[1].concat(v.value)),u(M,n.order)}},d=(o,l)=>o==="hours"&&!n.is24?r(`update:${o}`,Y.value==="PM"?l+12:l):r(`update:${o}`,l);return a({openChildCmp:$}),(o,l)=>{var k;return o.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Ba,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(U.value,(M,B)=>{var q,p,s;return e.openBlock(),e.createElementBlock("div",{key:B,class:e.normalizeClass(V.value)},[M.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(" : ")],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("button",{type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!0,dp__inc_dec_button_disabled:L.value(M.type)}),"aria-label":(q=e.unref(h).ariaLabels)==null?void 0:q.incrementValue(M.type),tabindex:"0",onKeydown:[e.withKeys(O=>y(M.type),["enter"]),e.withKeys(O=>y(M.type),["space"])],onClick:O=>y(M.type),ref_for:!0,ref:O=>g(O,B,0)},[o.$slots["arrow-up"]?e.renderSlot(o.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),o.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Pt),{key:1}))],42,Na),e.createElementVNode("button",{type:"button","aria-label":(p=e.unref(h).ariaLabels)==null?void 0:p.openTpOverlay(M.type),class:e.normalizeClass(["dp__btn",re(M.type)?"":"dp__time_display"]),tabindex:"0",onKeydown:[e.withKeys(O=>P(M.type),["enter"]),e.withKeys(O=>P(M.type),["space"])],onClick:O=>P(M.type),ref_for:!0,ref:O=>g(O,B,1)},[o.$slots[M.type]?e.renderSlot(o.$slots,M.type,{key:0,text:F.value(M.type).text,value:F.value(M.type).value}):e.createCommentVNode("",!0),o.$slots[M.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(F.value(M.type).text),1)],64))],42,va),e.createElementVNode("button",{type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!0,dp__inc_dec_button_disabled:z.value(M.type)}),"aria-label":(s=e.unref(h).ariaLabels)==null?void 0:s.decrementValue(M.type),tabindex:"0",onKeydown:[e.withKeys(O=>y(M.type,!1),["enter"]),e.withKeys(O=>y(M.type,!1),["space"])],onClick:O=>y(M.type,!1),ref_for:!0,ref:O=>g(O,B,2)},[o.$slots["arrow-down"]?e.renderSlot(o.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),o.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(At),{key:1}))],42,Ta)],64))],2)}),128)),o.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Pa,[o.$slots["am-pm-button"]?e.renderSlot(o.$slots,"am-pm-button",{key:0,toggle:E,value:Y.value}):e.createCommentVNode("",!0),o.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:v,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(k=e.unref(h).ariaLabels)==null?void 0:k.amPmButton,tabindex:"0",onClick:E,onKeydown:[e.withKeys(e.withModifiers(E,["prevent"]),["enter"]),e.withKeys(e.withModifiers(E,["prevent"]),["space"])]},e.toDisplayString(Y.value),41,Aa))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(K.value,(M,B)=>(e.openBlock(),e.createBlock(e.Transition,{key:B,name:e.unref(T)(N[M.type]),css:e.unref(_)},{default:e.withCtx(()=>[N[M.type]?(e.openBlock(),e.createBlock(ze,{key:0,items:te(M.type),"disabled-values":e.unref(h).filters.times[M.type].concat(ae.value(M.type)),"esc-close":o.escClose,"aria-labels":e.unref(h).ariaLabels,"hide-navigation":o.hideNavigation,"onUpdate:modelValue":q=>d(M.type,q),onSelected:q=>P(M.type),onToggle:q=>P(M.type),onResetFlow:l[0]||(l[0]=q=>o.$emit("reset-flow")),type:M.type},e.createSlots({"button-icon":e.withCtx(()=>[o.$slots["clock-icon"]?e.renderSlot(o.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),o.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Tt),{key:1}))]),_:2},[o.$slots[`${M.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:q})=>[e.renderSlot(o.$slots,`${M.type}-overlay-value`,{text:q.text,value:q.value})]),key:"0"}:void 0]),1032,["items","disabled-values","esc-close","aria-labels","hide-navigation","onUpdate:modelValue","onSelected","onToggle","type"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),Ea=["aria-label"],Ra={class:"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"},_a={key:1,class:"dp__overlay_row dp__flex_row"},Oa=["aria-label"],Ya=e.defineComponent({__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},internalModelValue:{type:[Date,Array],default:null},...Ve},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:a,emit:r}){const n=t,{buildMatrix:u,setTimePicker:m}=Ae(),h=e.useSlots(),{hideNavigationButtons:T,defaults:_}=De(n),{transitionName:N,showTransition:Y}=Xe(_.value.transitions),v=e.ref(null),f=e.ref(null),b=e.ref([]),G=e.ref(null);e.onMounted(()=>{r("mount"),!n.timePicker&&n.arrowNavigation?u([ce(v.value)],"time"):m(!0,n.timePicker)});const L=e.computed(()=>n.range&&n.modelAuto?jt(n.internalModelValue):!0),z=e.ref(!1),R=P=>({hours:Array.isArray(n.hours)?n.hours[P]:n.hours,minutes:Array.isArray(n.minutes)?n.minutes[P]:n.minutes,seconds:Array.isArray(n.seconds)?n.seconds[P]:n.seconds}),I=e.computed(()=>{const P=[];if(n.range)for(let C=0;C<2;C++)P.push(R(C));else P.push(R(0));return P}),V=(P,C=!1,y="")=>{C||r("reset-flow"),z.value=P,r(P?"overlay-opened":"overlay-closed"),n.arrowNavigation&&m(P),e.nextTick(()=>{y!==""&&b.value[0]&&b.value[0].openChildCmp(y)})},U=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:n.autoApply&&!n.keepActionRow})),K=Oe(h,"timePicker"),F=(P,C,y)=>n.range?C===0?[P,I.value[1][y]]:[I.value[0][y],P]:P,te=P=>{r("update:hours",P)},ne=P=>{r("update:minutes",P)},ae=P=>{r("update:seconds",P)},re=()=>{G.value&&n.arrowNavigation&&G.value.focus({preventScroll:!0})};return a({toggleTimePicker:V}),(P,C)=>{var y;return e.openBlock(),e.createElementBlock("div",null,[P.timePicker?e.createCommentVNode("",!0):e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,type:"button",class:e.normalizeClass(U.value),"aria-label":(y=e.unref(_).ariaLabels)==null?void 0:y.openTimePicker,tabindex:"0",ref_key:"openTimePickerBtn",ref:v,onKeydown:[C[0]||(C[0]=e.withKeys(A=>V(!0),["enter"])),C[1]||(C[1]=e.withKeys(A=>V(!0),["space"]))],onClick:C[2]||(C[2]=A=>V(!0))},[P.$slots["clock-icon"]?e.renderSlot(P.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),P.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Tt),{key:1}))],42,Ea)),[[e.vShow,!e.unref(T)("time")]]),e.createVNode(e.Transition,{name:e.unref(N)(z.value),css:e.unref(Y)},{default:e.withCtx(()=>{var A;return[z.value||P.timePicker?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__overlay",ref_key:"overlayRef",ref:G,tabindex:"0"},[e.createElementVNode("div",Ra,[P.$slots["time-picker-overlay"]?e.renderSlot(P.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:te,setMinutes:ne,setSeconds:ae}):e.createCommentVNode("",!0),P.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",_a,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(I.value,(E,$)=>e.withDirectives((e.openBlock(),e.createBlock(Va,e.mergeProps({key:$},{...P.$props,order:$,hours:E.hours,minutes:E.minutes,seconds:E.seconds,closeTimePickerBtn:f.value,disabled:$===0?P.fixedStart:P.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:b,"onUpdate:hours":g=>te(F(g,$,"hours")),"onUpdate:minutes":g=>ne(F(g,$,"minutes")),"onUpdate:seconds":g=>ae(F(g,$,"seconds")),onMounted:re,onOverlayClosed:re,onAmPmChange:C[3]||(C[3]=g=>P.$emit("am-pm-change",g))}),e.createSlots({_:2},[e.renderList(e.unref(K),(g,d)=>({name:g,fn:e.withCtx(o=>[e.renderSlot(P.$slots,g,e.normalizeProps(e.guardReactiveProps(o)))])}))]),1040,["onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,$===0?!0:L.value]])),128))])),P.timePicker?e.createCommentVNode("",!0):e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:2,type:"button",ref_key:"closeTimePickerBtn",ref:f,class:e.normalizeClass(U.value),"aria-label":(A=e.unref(_).ariaLabels)==null?void 0:A.closeTimePicker,tabindex:"0",onKeydown:[C[4]||(C[4]=e.withKeys(E=>V(!1),["enter"])),C[5]||(C[5]=e.withKeys(E=>V(!1),["space"]))],onClick:C[6]||(C[6]=E=>V(!1))},[P.$slots["calendar-icon"]?e.renderSlot(P.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),P.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(He),{key:1}))],42,Oa)),[[e.vShow,!e.unref(T)("time")]])])],512)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])])}}}),Ia=(t,a)=>{const{isDisabled:r,matchDate:n,getWeekFromDate:u,defaults:m}=De(a),h=e.ref(null),T=e.ref(S()),_=l=>{!l.current&&a.hideOffsetDates||(h.value=l.value)},N=()=>{h.value=null},Y=l=>Array.isArray(t.value)&&a.range&&t.value[0]&&h.value?l?he(h.value,t.value[0]):ge(h.value,t.value[0]):!0,v=(l,k)=>{const M=()=>t.value?k?t.value[0]||null:t.value[1]:null,B=t.value&&Array.isArray(t.value)?M():null;return oe(S(l.value),B)},f=l=>{const k=Array.isArray(t.value)?t.value[0]:null;return l?!ge(h.value||null,k):!0},b=(l,k=!0)=>(a.range||a.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?a.hideOffsetDates&&!l.current?!1:oe(S(l.value),t.value[k?0:1]):a.range?v(l,k)&&f(k)||oe(l.value,Array.isArray(t.value)?t.value[0]:null)&&Y(k):!1,G=(l,k,M)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?l?!1:M?he(t.value[0],k.value):ge(t.value[0],k.value):!1,L=l=>!t.value||a.hideOffsetDates&&!l.current?!1:a.range?a.modelAuto&&Array.isArray(t.value)?oe(l.value,t.value[0]?t.value[0]:T.value):!1:a.multiDates&&Array.isArray(t.value)?t.value.some(k=>oe(k,l.value)):oe(l.value,t.value?t.value:T.value),z=l=>{if(a.autoRange||a.weekPicker){if(h.value){if(a.hideOffsetDates&&!l.current)return!1;const k=c.addDays(h.value,+a.autoRange),M=u(S(h.value));return a.weekPicker?oe(M[1],S(l.value)):oe(k,S(l.value))}return!1}return!1},R=l=>{if(a.autoRange||a.weekPicker){if(h.value){const k=c.addDays(h.value,+a.autoRange);if(a.hideOffsetDates&&!l.current)return!1;const M=u(S(h.value));return a.weekPicker?he(l.value,M[0])&&ge(l.value,M[1]):he(l.value,h.value)&&ge(l.value,k)}return!1}return!1},I=l=>{if(a.autoRange||a.weekPicker){if(h.value){if(a.hideOffsetDates&&!l.current)return!1;const k=u(S(h.value));return a.weekPicker?oe(k[0],l.value):oe(h.value,l.value)}return!1}return!1},V=l=>Et(t.value,h.value,l.value),U=()=>a.modelAuto&&Array.isArray(a.internalModelValue)?!!a.internalModelValue[0]:!1,K=()=>a.modelAuto?jt(a.internalModelValue):!0,F=l=>{if(Array.isArray(t.value)&&t.value.length||a.weekPicker)return!1;const k=a.range?!b(l)&&!b(l,!1):!0;return!r(l.value)&&!L(l)&&!(!l.current&&a.hideOffsetDates)&&k},te=l=>a.range?a.modelAuto?U()&&L(l):!1:L(l),ne=l=>a.highlight?n(l.value,a.highlight):!1,ae=l=>r(l.value)&&a.highlightDisabledDays===!1,re=l=>a.highlightWeekDays&&a.highlightWeekDays.includes(l.value.getDay()),P=l=>(a.range||a.weekPicker)&&(!(m.value.multiCalendars>0)||l.current)&&K()&&!(!l.current&&a.hideOffsetDates)&&!L(l)?V(l):!1,C=l=>{const{isRangeStart:k,isRangeEnd:M}=E(l),B=a.range?k||M:!1;return{dp__cell_offset:!l.current,dp__pointer:!a.disabled&&!(!l.current&&a.hideOffsetDates)&&!r(l.value),dp__cell_disabled:r(l.value),dp__cell_highlight:!ae(l)&&(ne(l)||re(l))&&!te(l)&&!B,dp__cell_highlight_active:!ae(l)&&(ne(l)||re(l))&&te(l),dp__today:!a.noToday&&oe(l.value,T.value)&&l.current}},y=l=>({dp__active_date:te(l),dp__date_hover:F(l)}),A=l=>({...$(l),...g(l),dp__range_between_week:P(l)&&a.weekPicker}),E=l=>{const k=m.value.multiCalendars>0?l.current&&b(l)&&K():b(l)&&K(),M=m.value.multiCalendars>0?l.current&&b(l,!1)&&K():b(l,!1)&&K();return{isRangeStart:k,isRangeEnd:M}},$=l=>{const{isRangeStart:k,isRangeEnd:M}=E(l);return{dp__range_start:k,dp__range_end:M,dp__range_between:P(l)&&!a.weekPicker,dp__date_hover_start:G(F(l),l,!0),dp__date_hover_end:G(F(l),l,!1)}},g=l=>({...$(l),dp__cell_auto_range:R(l),dp__cell_auto_range_start:I(l),dp__cell_auto_range_end:z(l)}),d=l=>a.range?a.autoRange?g(l):a.modelAuto?{...y(l),...$(l)}:$(l):a.weekPicker?A(l):y(l);return{setHoverDate:_,clearHoverDate:N,getDayClassData:l=>({...C(l),...d(l),[a.dayClass?a.dayClass(l.value):""]:!0,[a.calendarCellClassName]:!!a.calendarCellClassName})}},xa=["id","onKeydown"],La={key:0,class:"dp__sidebar_left"},za={key:1,class:"dp__preset_ranges"},Ka=["onClick"],Ua={key:2,class:"dp__sidebar_right"},Wa={key:3,class:"dp__action_extra"},Ha=e.defineComponent({__name:"DatepickerMenu",props:{openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},...Ve},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end"],setup(t,{expose:a,emit:r}){const n=t,u=e.computed(()=>{const{openOnTop:w,internalModelValue:x,...ue}=n;return ue}),{setMenuFocused:m,setShiftKey:h,control:T}=Rt(),{getCalendarDays:_,defaults:N}=De(n),Y=e.useSlots(),v=e.ref(null),f=e.reactive({timePicker:!!(!n.enableTimePicker||n.timePicker||n.monthPicker),monthYearInput:!!n.timePicker,calendar:!1}),b=e.ref([]),G=e.ref([]),L=e.ref(null),z=e.ref(null),R=e.ref(0),I=e.ref(!1),V=e.ref(0);e.onMounted(()=>{var x;I.value=!0,!((x=n.presetRanges)!=null&&x.length)&&!Y["left-sidebar"]&&!Y["right-sidebar"]&&(ee(),window.addEventListener("resize",ee));const w=ce(z);if(w&&!n.textInput&&!n.inline&&(m(!0),ae()),w){const ue=fe=>{n.allowPreventDefault&&fe.preventDefault(),fe.stopImmediatePropagation(),fe.stopPropagation()};w.addEventListener("pointerdown",ue),w.addEventListener("mousedown",ue)}}),e.onUnmounted(()=>{window.removeEventListener("resize",ee)});const{arrowRight:U,arrowLeft:K,arrowDown:F,arrowUp:te}=Ae(),ne=w=>{w||w===0?G.value[w].triggerTransition(A.value(w),E.value(w)):G.value.forEach((x,ue)=>x.triggerTransition(A.value(ue),E.value(ue)))},ae=()=>{const w=ce(z);w&&w.focus({preventScroll:!0})},re=()=>{var w;(w=n.flow)!=null&&w.length&&V.value!==-1&&(V.value+=1,r("flow-step",V.value),D())},P=()=>{V.value=-1},{calendars:C,modelValue:y,month:A,year:E,time:$,updateTime:g,updateMonthYear:d,selectDate:o,getWeekNum:l,monthYearSelect:k,handleScroll:M,handleArrow:B,handleSwipe:q,getMarker:p,selectCurrentDate:s,presetDateRange:O}=Wn(n,r,re,ne,V),{setHoverDate:Z,clearHoverDate:se,getDayClassData:$e}=Ia(y,n),J={modelValue:y,month:A,year:E,time:$,updateTime:g,updateMonthYear:d,selectDate:o,presetDateRange:O,handleMonthYearChange:w=>{b.value[0]&&b.value[0].handleMonthYearChange(w)}};e.watch(C,()=>{n.openOnTop&&setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const ve=Oe(Y,"calendar"),be=Oe(Y,"action"),me=Oe(Y,"timePicker"),Te=Oe(Y,"monthYear"),Ke=e.computed(()=>n.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),Ue=e.computed(()=>En(n.yearRange,n.reverseYears)),j=e.computed(()=>Rn(n.locale,n.monthNameFormat)),ee=()=>{const w=ce(v);w&&(R.value=w.getBoundingClientRect().width)},X=e.computed(()=>w=>_(A.value(w),E.value(w))),Ie=e.computed(()=>N.value.multiCalendars>0?[...Array(N.value.multiCalendars).keys()]:[0]),Ee=e.computed(()=>w=>w===1),Dt=e.computed(()=>n.monthPicker||n.timePicker||n.yearPicker),Ct=e.computed(()=>({dp__menu_inner:!0,dp__flex_display:N.value.multiCalendars>0})),Je=e.computed(()=>({dp__instance_calendar:N.value.multiCalendars>0})),We=e.computed(()=>({dp__menu_disabled:n.disabled,dp__menu_readonly:n.readonly})),Mt=e.computed(()=>w=>St(X,w)),$t=e.computed(()=>({dp__menu:!0,dp__menu_index:!n.inline,dp__relative:n.inline,[n.menuClassName]:!!n.menuClassName})),St=(w,x)=>w.value(x).map(ue=>({...ue,days:ue.days.map(fe=>(fe.marker=p(fe),fe.classData=$e(fe),fe))})),Qe=w=>{w.stopPropagation(),w.stopImmediatePropagation()},Qt=()=>{n.escClose&&r("close-picker")},Ft=(w,x=!1)=>{o(w,x),n.spaceConfirm&&r("select-date")},Fe=w=>{var x;(x=n.flow)!=null&&x.length&&(f[w]=!0,Object.keys(f).filter(ue=>!f[ue]).length||D())},i=(w,x,ue,fe,...Be)=>{if(n.flow[V.value]===w){const H=fe?x.value[0]:x.value;H&&H[ue](...Be)}},D=()=>{i("month",b,"toggleMonthPicker",!0,!0),i("year",b,"toggleYearPicker",!0,!0),i("calendar",L,"toggleTimePicker",!1,!1,!0),i("time",L,"toggleTimePicker",!1,!0,!0);const w=n.flow[V.value];(w==="hours"||w==="minutes"||w==="seconds")&&i(w,L,"toggleTimePicker",!1,!0,!0,w)},W=w=>{if(n.arrowNavigation){if(w==="up")return te();if(w==="down")return F();if(w==="left")return K();if(w==="right")return U()}else w==="left"||w==="up"?B("left",0,w==="up"):B("right",0,w==="down")},Q=w=>{h(w.shiftKey),!n.disableMonthYearSelect&&w.code==="Tab"&&w.target.classList.contains("dp__menu")&&T.value.shiftKeyInMenu&&(w.preventDefault(),w.stopImmediatePropagation(),r("close-picker"))},de=()=>{ae(),r("time-picker-close")},Se=w=>{var x,ue,fe,Be,H;(x=L.value)==null||x.toggleTimePicker(!1,!1),(fe=(ue=b.value)==null?void 0:ue[w])==null||fe.toggleMonthPicker(!1,!1),(H=(Be=b.value)==null?void 0:Be[w])==null||H.toggleYearPicker(!1,!1)};return a({updateMonthYear:d,switchView:(w,x=0)=>{var ue,fe,Be,H,Pe;return w==="month"?(fe=(ue=b.value)==null?void 0:ue[x])==null?void 0:fe.toggleMonthPicker(!1,!0):w==="year"?(H=(Be=b.value)==null?void 0:Be[x])==null?void 0:H.toggleYearPicker(!1,!0):w==="time"?(Pe=L.value)==null?void 0:Pe.toggleTimePicker(!0,!1):Se(x)}}),(w,x)=>{var ue;return e.openBlock(),e.createBlock(e.Transition,{appear:"",name:(ue=e.unref(N).transitions)==null?void 0:ue.menuAppear,css:!!w.transitions},{default:e.withCtx(()=>{var fe,Be;return[e.createElementVNode("div",{id:w.uid?`dp-menu-${w.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:z,role:"dialog",class:e.normalizeClass($t.value),onMouseleave:x[14]||(x[14]=(...H)=>e.unref(se)&&e.unref(se)(...H)),onClick:Qe,onKeydown:[e.withKeys(Qt,["esc"]),x[15]||(x[15]=e.withKeys(e.withModifiers(H=>W("left"),["prevent"]),["left"])),x[16]||(x[16]=e.withKeys(e.withModifiers(H=>W("up"),["prevent"]),["up"])),x[17]||(x[17]=e.withKeys(e.withModifiers(H=>W("down"),["prevent"]),["down"])),x[18]||(x[18]=e.withKeys(e.withModifiers(H=>W("right"),["prevent"]),["right"])),Q]},[(w.disabled||w.readonly)&&w.inline?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(We.value)},null,2)):e.createCommentVNode("",!0),!w.inline&&!w.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(Ke.value)},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass({dp__menu_content_wrapper:((fe=w.presetRanges)==null?void 0:fe.length)||!!w.$slots["left-sidebar"]||!!w.$slots["right-sidebar"]})},[w.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",La,[e.renderSlot(w.$slots,"left-sidebar",e.normalizeProps(e.guardReactiveProps(J)))])):e.createCommentVNode("",!0),(Be=w.presetRanges)!=null&&Be.length?(e.openBlock(),e.createElementBlock("div",za,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(w.presetRanges,(H,Pe)=>(e.openBlock(),e.createElementBlock("div",{key:Pe,style:e.normalizeStyle(H.style||{}),class:"dp__preset_range",onClick:le=>e.unref(O)(H.range,!!H.slot)},[H.slot?e.renderSlot(w.$slots,H.slot,{key:0,presetDateRange:e.unref(O),label:H.label,range:H.range}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(H.label),1)],64))],12,Ka))),128))])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:v,role:"document"},[e.createElementVNode("div",{class:e.normalizeClass(Ct.value)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Ie.value,(H,Pe)=>(e.openBlock(),e.createElementBlock("div",{key:H,class:e.normalizeClass(Je.value)},[!w.disableMonthYearSelect&&!w.timePicker?(e.openBlock(),e.createBlock(Sa,e.mergeProps({key:0,ref_for:!0,ref:le=>{le&&(b.value[Pe]=le)},months:j.value,years:Ue.value,month:e.unref(A)(H),year:e.unref(E)(H),instance:H,"internal-model-value":t.internalModelValue},u.value,{onMount:x[0]||(x[0]=le=>Fe("monthYearInput")),onResetFlow:P,onUpdateMonthYear:le=>e.unref(d)(H,le),onMonthYearSelect:e.unref(k),onOverlayClosed:ae}),e.createSlots({_:2},[e.renderList(e.unref(Te),(le,Ja)=>({name:le,fn:e.withCtx(Bt=>[e.renderSlot(w.$slots,le,e.normalizeProps(e.guardReactiveProps(Bt)))])}))]),1040,["months","years","month","year","instance","internal-model-value","onUpdateMonthYear","onMonthYearSelect"])):e.createCommentVNode("",!0),e.createVNode(ma,e.mergeProps({ref_for:!0,ref:le=>{le&&(G.value[Pe]=le)},"specific-mode":Dt.value,"get-week-num":e.unref(l),instance:H,"mapped-dates":Mt.value(H),month:e.unref(A)(H),year:e.unref(E)(H)},u.value,{onSelectDate:le=>e.unref(o)(le,!Ee.value(H)),onHandleSpace:le=>Ft(le,!Ee.value(H)),onSetHoverDate:x[1]||(x[1]=le=>e.unref(Z)(le)),onHandleScroll:le=>e.unref(M)(le,H),onHandleSwipe:le=>e.unref(q)(le,H),onMount:x[2]||(x[2]=le=>Fe("calendar")),onResetFlow:P,onTooltipOpen:x[3]||(x[3]=le=>w.$emit("tooltip-open",le)),onTooltipClose:x[4]||(x[4]=le=>w.$emit("tooltip-close",le))}),e.createSlots({_:2},[e.renderList(e.unref(ve),(le,Ja)=>({name:le,fn:e.withCtx(Bt=>[e.renderSlot(w.$slots,le,e.normalizeProps(e.guardReactiveProps({...Bt})))])}))]),1040,["specific-mode","get-week-num","instance","mapped-dates","month","year","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])],2))),128))],2),e.createElementVNode("div",null,[w.$slots["time-picker"]?e.renderSlot(w.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref($),updateTime:e.unref(g)}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[w.enableTimePicker&&!w.monthPicker&&!w.weekPicker?(e.openBlock(),e.createBlock(Ya,e.mergeProps({key:0,ref_key:"timePickerRef",ref:L,hours:e.unref($).hours,minutes:e.unref($).minutes,seconds:e.unref($).seconds,"internal-model-value":t.internalModelValue},u.value,{onMount:x[5]||(x[5]=H=>Fe("timePicker")),"onUpdate:hours":x[6]||(x[6]=H=>e.unref(g)(H)),"onUpdate:minutes":x[7]||(x[7]=H=>e.unref(g)(H,!1)),"onUpdate:seconds":x[8]||(x[8]=H=>e.unref(g)(H,!1,!0)),onResetFlow:P,onOverlayClosed:de,onOverlayOpened:x[9]||(x[9]=H=>w.$emit("time-picker-open",H)),onAmPmChange:x[10]||(x[10]=H=>w.$emit("am-pm-change",H))}),e.createSlots({_:2},[e.renderList(e.unref(me),(H,Pe)=>({name:H,fn:e.withCtx(le=>[e.renderSlot(w.$slots,H,e.normalizeProps(e.guardReactiveProps(le)))])}))]),1040,["hours","minutes","seconds","internal-model-value"])):e.createCommentVNode("",!0)],64))])],512),w.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",Ua,[e.renderSlot(w.$slots,"right-sidebar",e.normalizeProps(e.guardReactiveProps(J)))])):e.createCommentVNode("",!0),w.$slots["action-extra"]?(e.openBlock(),e.createElementBlock("div",Wa,[w.$slots["action-extra"]?e.renderSlot(w.$slots,"action-extra",{key:0,selectCurrentDate:e.unref(s)}):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],2),!w.autoApply||w.keepActionRow?(e.openBlock(),e.createBlock(ra,e.mergeProps({key:2,"menu-mount":I.value,"calendar-width":R.value,"internal-model-value":t.internalModelValue},u.value,{onClosePicker:x[11]||(x[11]=H=>w.$emit("close-picker")),onSelectDate:x[12]||(x[12]=H=>w.$emit("select-date")),onInvalidSelect:x[13]||(x[13]=H=>w.$emit("invalid-select")),onSelectNow:e.unref(s)}),e.createSlots({_:2},[e.renderList(e.unref(be),(H,Pe)=>({name:H,fn:e.withCtx(le=>[e.renderSlot(w.$slots,H,e.normalizeProps(e.guardReactiveProps({...le})))])}))]),1040,["menu-mount","calendar-width","internal-model-value","onSelectNow"])):e.createCommentVNode("",!0)],42,xa)]}),_:3},8,["name","css"])}}}),ja=typeof window<"u"?window:void 0,wt=()=>{},Ga=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,qa=(t,a,r,n)=>{if(!t)return wt;let u=wt;const m=e.watch(()=>e.unref(t),T=>{u(),T&&(T.addEventListener(a,r,n),u=()=>{T.removeEventListener(a,r,n),u=wt})},{immediate:!0,flush:"post"}),h=()=>{m(),u()};return Ga(h),h},Za=(t,a,r,n={})=>{const{window:u=ja,event:m="pointerdown"}=n;return u?qa(u,m,T=>{const _=ce(t),N=ce(a);!_||!N||_===T.target||T.composedPath().includes(_)||T.composedPath().includes(N)||r(T)},{passive:!0}):void 0},Xa=e.defineComponent({__name:"VueDatePicker",props:{...Ve},emits:["update:model-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end"],setup(t,{expose:a,emit:r}){const n=t,u=e.useSlots(),m=e.ref(!1),h=e.toRef(n,"modelValue"),T=e.toRef(n,"timezone"),_=e.ref(null),N=e.ref(null),Y=e.ref(!1),v=e.ref(null),{setMenuFocused:f,setShiftKey:b}=Rt(),{clearArrowNav:G}=Ae(),{validateDate:L,isValidTime:z,defaults:R}=De(n);e.onMounted(()=>{C(n.modelValue),n.inline||(ae(v.value).addEventListener("scroll",o),window.addEventListener("resize",l)),n.inline&&(m.value=!0)}),e.onUnmounted(()=>{if(!n.inline){const j=ae(v.value);j&&j.removeEventListener("scroll",o),window.removeEventListener("resize",l)}});const I=Oe(u,"all",n.presetRanges),V=Oe(u,"input");e.watch([h,T],()=>{C(h.value)},{deep:!0});const{openOnTop:U,menuStyle:K,resetPosition:F,setMenuPosition:te,setInitialPosition:ne,getScrollableParent:ae}=Gn(_,N,r,n),{inputValue:re,internalModelValue:P,parseExternalModelValue:C,emitModelValue:y,formatInputValue:A,checkBeforeEmit:E}=Hn(r,n,Y),$=e.computed(()=>({dp__main:!0,dp__theme_dark:n.dark,dp__theme_light:!n.dark,dp__flex_display:n.inline,dp__flex_display_with_input:n.inlineWithInput})),g=e.computed(()=>n.dark?"dp__theme_dark":"dp__theme_light"),d=e.computed(()=>n.teleport?{to:typeof n.teleport=="boolean"?"body":n.teleport,disabled:n.inline}:{class:"dp__outer_menu_wrap"}),o=()=>{m.value&&(n.closeOnScroll?se():te())},l=()=>{m.value&&te()},k=async()=>{var j,ee,X;!n.disabled&&!n.readonly&&(F(),await e.nextTick(),m.value=!0,await e.nextTick(),ne(),await e.nextTick(),te(),delete K.value.opacity,(j=R.value.transitions)!=null&&j.menuAppear||(X=(ee=_.value)==null?void 0:ee.$el)==null||X.classList.add("dp__menu_transitioned"),m.value&&r("open"),m.value||Z(),C(n.modelValue))},M=()=>{re.value="",Z(),r("update:model-value",null),r("cleared"),n.closeOnClearValue&&se()},B=()=>{const j=P.value;return!j||!Array.isArray(j)&&L(j)?!0:Array.isArray(j)?j.length===2&&L(j[0])&&L(j[1])?!0:L(j[0]):!1},q=()=>{E()&&B()?(y(),se()):r("invalid-select",P.value)},p=j=>{s(),y(),n.closeOnAutoApply&&!j&&se()},s=()=>{N.value&&n.textInput&&N.value.setParsedDate(P.value)},O=(j=!1)=>{n.autoApply&&z(P.value)&&B()&&(n.range&&Array.isArray(P.value)?(n.partialRange||P.value.length===2)&&p(j):p(j))},Z=()=>{n.textInput||(P.value=null)},se=()=>{n.inline||(m.value&&(m.value=!1,f(!1),b(!1),G(),r("closed"),ne(),re.value&&C(h.value)),Z())},$e=(j,ee)=>{if(!j){P.value=null;return}P.value=j,ee&&(q(),r("text-submit"))},Ne=()=>{n.autoApply&&z(P.value)&&y(),s()},J=()=>m.value?se():k(),ve=j=>{P.value=j},be=()=>{n.textInput&&(Y.value=!0,A()),r("focus")},me=()=>{n.textInput&&(Y.value=!1,C(n.modelValue)),r("blur")},Te=j=>{_.value&&_.value.updateMonthYear(0,{month:Gt(j.month),year:Gt(j.year)})},Ke=j=>{C(j||n.modelValue)},Ue=(j,ee)=>{var X;(X=_.value)==null||X.switchView(j,ee)};return Za(_,N,n.onClickOutside?()=>n.onClickOutside(B):se),a({closeMenu:se,selectDate:q,clearValue:M,openMenu:k,onScroll:o,formatInputValue:A,updateInternalModelValue:ve,setMonthYear:Te,parseModel:Ke,switchView:Ue}),(j,ee)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass($.value),ref_key:"pickerWrapperRef",ref:v},[e.createVNode(ea,e.mergeProps({ref_key:"inputRef",ref:N,"is-menu-open":m.value,"input-value":e.unref(re),"onUpdate:inputValue":ee[0]||(ee[0]=X=>e.isRef(re)?re.value=X:null)},j.$props,{onClear:M,onOpen:k,onSetInputDate:$e,onSetEmptyDate:e.unref(y),onSelectDate:q,onToggle:J,onClose:se,onFocus:be,onBlur:me,onRealBlur:ee[1]||(ee[1]=X=>Y.value=!1)}),e.createSlots({_:2},[e.renderList(e.unref(V),(X,Ie)=>({name:X,fn:e.withCtx(Ee=>[e.renderSlot(j.$slots,X,e.normalizeProps(e.guardReactiveProps(Ee)))])}))]),1040,["is-menu-open","input-value","onSetEmptyDate"]),m.value?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(j.teleport?e.Teleport:"div"),e.normalizeProps(e.mergeProps({key:0},d.value)),{default:e.withCtx(()=>[m.value?(e.openBlock(),e.createBlock(Ha,e.mergeProps({key:0,ref_key:"dpMenuRef",ref:_,class:g.value,style:j.inline?void 0:e.unref(K),"open-on-top":e.unref(U)},j.$props,{"internal-model-value":e.unref(P),"onUpdate:internalModelValue":ee[2]||(ee[2]=X=>e.isRef(P)?P.value=X:null),onClosePicker:se,onSelectDate:q,onAutoApply:O,onTimeUpdate:Ne,onFlowStep:ee[3]||(ee[3]=X=>j.$emit("flow-step",X)),onUpdateMonthYear:ee[4]||(ee[4]=X=>j.$emit("update-month-year",X)),onInvalidSelect:ee[5]||(ee[5]=X=>j.$emit("invalid-select",e.unref(P))),onInvalidFixedRange:ee[6]||(ee[6]=X=>j.$emit("invalid-fixed-range",X)),onRecalculatePosition:e.unref(te),onTooltipOpen:ee[7]||(ee[7]=X=>j.$emit("tooltip-open",X)),onTooltipClose:ee[8]||(ee[8]=X=>j.$emit("tooltip-close",X)),onTimePickerOpen:ee[9]||(ee[9]=X=>j.$emit("time-picker-open",X)),onTimePickerClose:ee[10]||(ee[10]=X=>j.$emit("time-picker-close",X)),onAmPmChange:ee[11]||(ee[11]=X=>j.$emit("am-pm-change",X)),onRangeStart:ee[12]||(ee[12]=X=>j.$emit("range-start",X)),onRangeEnd:ee[13]||(ee[13]=X=>j.$emit("range-end",X))}),e.createSlots({_:2},[e.renderList(e.unref(I),(X,Ie)=>({name:X,fn:e.withCtx(Ee=>[e.renderSlot(j.$slots,X,e.normalizeProps(e.guardReactiveProps({...Ee})))])}))]),1040,["class","style","open-on-top","internal-model-value","onRecalculatePosition"])):e.createCommentVNode("",!0)]),_:3},16)):e.createCommentVNode("",!0)],2))}}),bt=(()=>{const t=Xa;return t.install=a=>{a.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:bt},Symbol.toStringTag,{value:"Module"}))).forEach(([t,a])=>{t!=="default"&&(bt[t]=a)}),bt});
